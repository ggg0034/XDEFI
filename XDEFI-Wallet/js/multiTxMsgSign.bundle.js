/*! For license information please see multiTxMsgSign.bundle.js.LICENSE.txt */
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="a7746f6e-4b8d-4836-932e-63dab057943b",e._sentryDebugIdIdentifier="sentry-dbid-a7746f6e-4b8d-4836-932e-63dab057943b")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"28.2.2"},(()=>{"use strict";var e,t,r,n,a,o,s,i,l,c={619011:(e,t,r)=>{r.d(t,{S1:()=>T});var n=r(242422),a=r(19116),o=r(522967),s=r(367966),i=r(495659),l=r(130360),c=r(808823),d=r(712343),u=r(842533),p=r(282557),h=r(986891),f=r(652136),g=r(653692),y=r(373535),m=r(436764),v=r(761945),b=r(869730),w=r(34469),x=r(128838),S=r(768131);const C=[new n.QD,new a.c,new g.p,new y.O,new f.d,new m.i,new b.I,new v.q];function T(e={}){void 0===e.defaultIntegrations&&(e.defaultIntegrations=C),void 0===e.release&&("string"==typeof __SENTRY_RELEASE__&&(e.release=__SENTRY_RELEASE__),h.m9.SENTRY_RELEASE&&h.m9.SENTRY_RELEASE.id&&(e.release=h.m9.SENTRY_RELEASE.id)),void 0===e.autoSessionTracking&&(e.autoSessionTracking=!0),void 0===e.sendClientReports&&(e.sendClientReports=!0);const t={...e,stackParser:(0,l.Sq)(e.stackParser||w.Dt),integrations:(0,o.m8)(e),transport:e.transport||((0,c.Ak)()?x.f:S.K)};(0,s.M)(p.R,t),e.autoSessionTracking&&function(){if(void 0===h.m9.document)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.warn("Session tracking in non-browser environment with @sentry/browser is not supported."));const e=(0,i.Gd)();if(!e.captureSession)return;P(e),(0,u.oq)("history",(({from:e,to:t})=>{void 0!==e&&e!==t&&P((0,i.Gd)())}))}()}function P(e){e.startSession({ignoreDuration:!0}),e.captureSession()}},1984:(e,t,r)=>{r.d(t,{U:()=>s});var n=r(320535);const a="7";function o(e){const t=e.protocol?`${e.protocol}:`:"",r=e.port?`:${e.port}`:"";return`${t}//${e.host}${r}${e.path?`/${e.path}`:""}/api/`}function s(e,t={}){const r="string"==typeof t?t:t.tunnel,s="string"!=typeof t&&t._metadata?t._metadata.sdk:void 0;return r||`${function(e){return`${o(e)}${e.projectId}/envelope/`}(e)}?${function(e,t){return(0,n._j)({sentry_key:e.publicKey,sentry_version:a,...t&&{sentry_client:`${t.name}/${t.version}`}})}(e,s)}`}},744238:(e,t,r)=>{r.a(e,(async(e,n)=>{try{r.d(t,{Z:()=>h});var a=r(785893),o=r(244431),s=r(230811),i=r(308787),l=r(561277),c=r(234130),d=r(316708),u=e([i,d]);[i,d]=u.then?(await u)():u;const p="Are you sure you want to proceed?",h=({modalTitle:e=p,open:t,onClose:r,onSubmit:n,maxGasPrice:u,currentGasPrice:h,maxFee:f,currentFee:g})=>{const{t:y}=(0,s.$G)("app");return(0,a.jsx)(d.QH,{open:t,dialogTitle:e,dialogContent:(0,a.jsxs)(i.FlexBox,{children:[(0,a.jsxs)(l.Z,{children:[y("max_gwei_popup.recommended_max_gas_price"),(0,a.jsx)("br",{}),(0,a.jsx)(s.cC,{t:y,i18nKey:"max_gwei_popup.gas_price",components:c._,values:{gasPrice:u,fee:new o.BigNumber(f).toString()}})]}),(0,a.jsxs)(l.Z,{children:[y("max_gwei_popup.your_gas_price"),(0,a.jsx)("br",{}),(0,a.jsx)(s.cC,{t:y,i18nKey:"max_gwei_popup.gas_price",components:c._,values:{gasPrice:h,fee:new o.BigNumber(g).toString()}})]})]}),onClose:r,onSubmit:n,dialogType:d.KO.Standard})};n()}catch(e){n(e)}}))},982107:(e,t,r)=>{r.a(e,(async(e,t)=>{try{var n=r(785893),a=r(667294),o=r(818117),s=r(308787),i=r(882935),l=e([s,i]);[s,i]=l.then?(await l)():l;const c=({loading:e})=>e?(0,n.jsx)(d,{children:(0,n.jsx)(i.Z,{})}):null,d=(0,o.ZP)(s.FlexBox).attrs({alignItems:"center",justifyContent:"center"})`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.8);
  z-index: 9999;
`;(0,a.memo)(c);t()}catch(e){t(e)}}))},347227:(e,t,r)=>{r.a(e,(async(e,t)=>{try{r(785893),r(667294);var n=r(385167),a=(r(745808),r(582242),e([n]));n=(a.then?(await a)():a)[0];t()}catch(e){t(e)}}))},115105:(e,t,r)=>{r.a(e,(async(e,n)=>{try{r.d(t,{Z:()=>v});var a=r(785893),o=r(305381),s=r(278155),i=r(945192),l=r(818117),c=r(308787),d=r(646284),u=r(876777),p=e([c,d]);[c,d]=p.then?(await p)():p;const h=(0,l.ZP)(c.FlexBox).attrs({alignItems:"center",justifyContent:"space-evenly",alignContent:"center"})`
  height: 100%;
  width: 100%;
  position: absolute;
  background-color: ${u.wL.black};
  overflow: hidden;
`,f=(0,l.ZP)(c.FlexBox).attrs({alignItems:"center",justifyContent:"flex-start",flexDirection:"column"})`
  width: 400px;
  height: 100%;
  max-height: 600px;
  overflow: hidden;
  padding: 0 8px;
  box-sizing: border-box;
  display: flex;
  text-align: center;
  overflow: hidden;
`,g=(0,l.ZP)(c.FlexBox).attrs({alignItems:"center",flexDirection:"column"})`
  width: 100%;
  box-sizing: border-box;
  flex: 1;
  z-index: 1;
`,y=l.ZP.img`
  position: absolute;
`,m=l.ZP.img.attrs({src:o.toString(),alt:"logo",dataTestid:"logo"})`
  margin-top: 28px;
  width: 187px;
  height: 88px;
  z-index: 1;
`,v=({children:e,loading:t=!1})=>(0,a.jsx)(h,{children:(0,a.jsx)(f,{children:t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y,{src:i.toString()}),(0,a.jsx)(m,{}),(0,a.jsx)(d.Loader,{})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y,{src:s.toString()}),(0,a.jsx)(m,{}),(0,a.jsx)(g,{children:e})]})})});n()}catch(e){n(e)}}))},862374:(e,t,r)=>{r.a(e,(async(e,n)=>{try{r.d(t,{Z:()=>T});var a=r(785893),o=r(667294),s=r(996974),i=r(363119),l=r(179826),c=r(115105),d=r(230811),u=r(646284),p=r(691438),h=r(281672),f=r(308787),g=r(108363),y=r(519416),m=r(25593),v=e([c,u,h,f,m]);[c,u,h,f,m]=v.then?(await v)():v;const b=(0,o.lazy)((()=>Promise.all([r.e(6221),r.e(4030),r.e(1628),r.e(4809),r.e(9357),r.e(9706),r.e(6106),r.e(6025),r.e(5534),r.e(7098),r.e(865)]).then(r.bind(r,233903)))),w=(0,o.lazy)((()=>Promise.all([r.e(6221),r.e(4030),r.e(1628),r.e(4809),r.e(9357),r.e(5171),r.e(9706),r.e(6106),r.e(6025),r.e(5534),r.e(1833)]).then(r.bind(r,278947)))),x=(0,o.lazy)((()=>Promise.all([r.e(6221),r.e(4030),r.e(1628),r.e(4809),r.e(9357),r.e(9706),r.e(6106),r.e(6025),r.e(5534),r.e(6471)]).then(r.bind(r,577332)))),S=({chainType:e})=>e!==p.J.Bitcoin?(0,a.jsx)(w,{}):(0,a.jsx)(x,{}),C=({chainType:e})=>(0,a.jsxs)(s.Z5,{children:[(0,a.jsx)(s.AW,{path:"/transactional/:xdefiId",element:(0,a.jsx)(b,{})}),(0,a.jsx)(s.AW,{path:"/sign-in/:xdefiId",element:(0,a.jsx)(S,{chainType:e})})]}),T=()=>{var e;const{t}=(0,d.$G)("app"),r=(0,h.nl)(),n=(0,h.fU)(),v=(0,s.s0)(),b=(0,i.v9)((e=>null==e?void 0:e.wallets.activeWalletId))||"",w=null==(e=(0,i.v9)((e=>{var t;return null==(t=null==e?void 0:e.masterKeystore)?void 0:t.locked})))||e,{messages:x}=(0,i.v9)((e=>e.dappsMessages)),S=(0,o.useCallback)((()=>{var e,a;if(!x.length)return;const o=n.getChainControllerById(null==(e=x[0])?void 0:e.chainId);r.removeMessageById(null==(a=x[0])?void 0:a.xdefiId),y.browser.runtime.sendMessage(void 0,{xdefiId:x[0].xdefiId,raw:{id:x[0].xdefiId,error:o.getType()===p.J.Evm?l.ethErrors.provider.userRejectedRequest():t("multi_tx_msg_sign.error")}})}),[n,r,x,t]);(0,o.useEffect)((()=>(window.addEventListener("unload",S),()=>{window.removeEventListener("unload",S)})),[S]),(0,o.useEffect)((()=>{if(!w||!x.length)if(x.length){const e=n.getChainControllerById(x[0].chainId);v(e.isSignMessage(x[0])?"/sign-in/:xdefiId":"/transactional/:xdefiId")}else window.close()}),[v,x,n]);const T=(0,o.useMemo)((()=>x.length?n.getChainControllerById(x[0].chainId).getType():void 0),[x]);return x.length?(0,a.jsx)(o.Suspense,{fallback:(0,a.jsx)(c.Z,{loading:!0}),children:b&&T&&!w?(0,a.jsx)(C,{chainType:T}):(0,a.jsx)(m.Z,{isLocked:!0})}):(0,a.jsxs)(f.FlexBox,{alignItems:"center",justifyContent:"center",gridGap:16,pt:32,width:"100%",children:[(0,a.jsx)(g.Z,{children:t("multi_tx_msg_sign.no_pending")}),(0,a.jsx)(u.Loader,{}),(0,a.jsx)("br",{})]})};n()}catch(e){n(e)}}))},634376:(e,t,r)=>{r.a(e,(async(e,t)=>{try{var n=r(785893),a=(r(324889),r(46461),r(667294)),o=r(363119),s=r(639711),i=(r(870446),r(17045)),l=r(753894),c=r(678603),d=r(42763),u=r(876777),p=r(818117),h=r(620745),f=r(115105),g=r(691292),y=r(348365),m=r(348776),v=r(862374),b=e([d,f,g,y,m,v]);[d,f,g,y,m,v]=b.then?(await b)():b;const w=document.getElementById("app-multi-tx-msg-sign-root"),x=(0,h.s)(w),S=[l.Z],C=new i.yh({portName:"XDEFI-EXTENSION"});(0,i.md)(C,...S),C.ready().then((()=>{Object.defineProperty(window,"reduxStore",{get:()=>C.getState()}),x.render((0,n.jsx)(o.zt,{store:C,children:(0,n.jsx)(c.r,{loading:(0,n.jsx)(f.Z,{loading:!0}),persistor:d.D,children:(0,n.jsx)(P,{})})}))}));const T=p.vJ`
  body * {
    box-sizing: border-box;
    transition: background-color 300ms;
    
    &::-webkit-scrollbar {
    background-color: transparent;
    width: 5px;
    };
   
    &::-webkit-scrollbar-thumb {
    background-color: rgba(255, 255, 255, 0.2);
    border-radius: 5px;
    height: 30px;
    };
  
    &::-webkit-scrollbar-corner {
      background-color: transparent;
    }
  }
  body {
    overflow: hidden;
    ::-webkit-scrollbar-thumb {
      background-color: rgba(255, 255, 255, 0.2);
      border-radius: 5px;
      height: 30px;
    }

    ::-webkit-scrollbar-corner {
      background-color: transparent;
    }
    
    ::-webkit-scrollbar {
    background-color: transparent;
    width: 5px;
    };
  }

  body input[type='range'] {
    width: 100%;
    height: 2px;
    cursor: pointer;
    accent-color: ${u.wL.blue};
  }


`,P=()=>{const e=(0,o.v9)((e=>{var t,r;return null!=(r=null==(t=null==e?void 0:e.settings)?void 0:t.theme)?r:u.$T.Dark}));return(0,a.useEffect)((()=>{document.body.classList.toggle("theme-dark",!0)}),[]),(0,n.jsx)(p.f6,{theme:(0,u.Q2)(e),children:(0,n.jsx)(g.Z,{type:"dapp",children:(0,n.jsx)(m.Z,{children:(0,n.jsxs)(y.x,{children:[(0,n.jsx)(T,{}),(0,n.jsx)(s.UT,{children:(0,n.jsx)(v.Z,{})})]})})})})};t()}catch(e){t(e)}}))},143831:(e,t,r)=>{var n=r(785893),a=r(667294),o=Object.defineProperty,s=Object.defineProperties,i=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,u=(e,t,r)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const p=a.forwardRef((function(e,t){const r=e.color;return(0,n.jsx)("svg",(a=((e,t)=>{for(var r in t||(t={}))c.call(t,r)&&u(e,r,t[r]);if(l)for(var r of l(t))d.call(t,r)&&u(e,r,t[r]);return e})({width:"14",height:"11",viewBox:"0 0 14 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"data-testid":"checkIcon"},e),s(a,i({children:(0,n.jsx)("path",{d:"M4.79079 9.84954L12.8808 1.75955C12.9855 1.6699 13.0705 1.55958 13.1305 1.43552C13.1905 1.31145 13.2243 1.17632 13.2296 1.0386C13.2349 0.90088 13.2117 0.763548 13.1614 0.635223C13.1112 0.506898 13.0349 0.39035 12.9374 0.292896C12.84 0.195441 12.7234 0.119183 12.5951 0.0689079C12.4668 0.0186333 12.3295 -0.00457215 12.1917 0.000747323C12.054 0.00606679 11.9189 0.0397964 11.7948 0.0998197C11.6708 0.159843 11.5604 0.244864 11.4708 0.349545L4.09079 7.72954L1.71079 5.34954C1.61783 5.25581 1.50723 5.18142 1.38537 5.13065C1.26351 5.07988 1.1328 5.05374 1.00079 5.05374C0.868779 5.05374 0.738074 5.07988 0.616215 5.13065C0.494356 5.18142 0.383755 5.25581 0.290792 5.34954C0.104541 5.53691 -1.01242e-06 5.79036 -1.05861e-06 6.05454C-1.1048e-06 6.31873 0.10454 6.57218 0.290791 6.75954L3.38079 9.84954C3.56815 10.0358 3.82161 10.1403 4.08579 10.1403C4.34998 10.1403 4.60343 10.0358 4.79079 9.84954Z",fill:r||"white"})}))));var a}));a.memo(p)},255078:(e,t,r)=>{var n=r(785893),a=r(667294),o=Object.defineProperty,s=Object.defineProperties,i=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,u=(e,t,r)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const p=a.forwardRef((function(e,t){const r=e.color;return(0,n.jsx)("svg",(a=((e,t)=>{for(var r in t||(t={}))c.call(t,r)&&u(e,r,t[r]);if(l)for(var r of l(t))d.call(t,r)&&u(e,r,t[r]);return e})({width:"15",height:"6",viewBox:"0 0 15 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),s(a,i({children:(0,n.jsx)("path",{d:"M1.003 1l5.919 3.82a.5.5 0 00.555-.01L13.003 1",stroke:r||"#979797",strokeWidth:2,strokeLinecap:"round"})}))));var a}));a.memo(p)},579497:(e,t,r)=>{r.d(t,{Z:()=>g});var n=r(785893),a=r(667294),o=r(327754),s=r(876777),i=Object.defineProperty,l=Object.defineProperties,c=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,h=(e,t,r)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const f=a.forwardRef((function(e,t){const r=(0,o.F)({[s.$T.Dark]:"white"}),a=e.color||r;return(0,n.jsxs)("svg",(i=((e,t)=>{for(var r in t||(t={}))u.call(t,r)&&h(e,r,t[r]);if(d)for(var r of d(t))p.call(t,r)&&h(e,r,t[r]);return e})({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),l(i,c({children:[(0,n.jsx)("path",{d:"M8 2.4C11.087 2.4 13.6 4.913 13.6 8C13.6 11.087 11.087 13.6 8 13.6C4.913 13.6 2.4 11.087 2.4 8C2.4 4.913 4.913 2.4 8 2.4ZM8 1C4.136 1 1 4.136 1 8C1 11.864 4.136 15 8 15C11.864 15 15 11.864 15 8C15 4.136 11.864 1 8 1Z",fill:a||"#969DA3"}),(0,n.jsx)("path",{d:"M8.00005 12.2001C7.61505 12.2001 7.30005 11.8851 7.30005 11.5001V7.3001C7.30005 6.9151 7.61505 6.6001 8.00005 6.6001C8.38505 6.6001 8.70005 6.9151 8.70005 7.3001V11.5001C8.70005 11.8851 8.38505 12.2001 8.00005 12.2001Z",fill:a||"#969DA3"}),(0,n.jsx)("path",{d:"M8.00005 5.1998C8.38665 5.1998 8.70005 4.8864 8.70005 4.4998C8.70005 4.11321 8.38665 3.7998 8.00005 3.7998C7.61345 3.7998 7.30005 4.11321 7.30005 4.4998C7.30005 4.8864 7.61345 5.1998 8.00005 5.1998Z",fill:a||"#969DA3"})]}))));var i})),g=a.memo(f)},175075:(e,t,r)=>{r.d(t,{Z:()=>g});var n=r(785893),a=r(667294),o=r(327754),s=r(876777),i=Object.defineProperty,l=Object.defineProperties,c=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,h=(e,t,r)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const f=a.forwardRef((function(e,t){const r=(0,o.F)({[s.$T.Dark]:"white"}),a=e.color||r;return(0,n.jsxs)("svg",(i=((e,t)=>{for(var r in t||(t={}))u.call(t,r)&&h(e,r,t[r]);if(d)for(var r of d(t))p.call(t,r)&&h(e,r,t[r]);return e})({width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),l(i,c({children:[(0,n.jsx)("path",{d:"M2.5 1C1.67157 1 1 1.67157 1 2.5V8.5C1 9.32843 1.67157 10 2.5 10H8.5C9.32843 10 10 9.32843 10 8.5V7.5C10 7.22386 10.2239 7 10.5 7C10.7761 7 11 7.22386 11 7.5V8.5C11 9.88071 9.88071 11 8.5 11H2.5C1.11929 11 0 9.88071 0 8.5V2.5C0 1.11929 1.11929 0 2.5 0H3.5C3.77614 0 4 0.223858 4 0.5C4 0.776142 3.77614 1 3.5 1H2.5Z",fill:a||"#2041E0"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.00001 0.5C6.00001 0.223858 6.22387 0 6.50001 0H10.5C10.7761 0 11 0.223858 11 0.5V4.5C11 4.77614 10.7761 5 10.5 5C10.2239 5 10 4.77614 10 4.5V1.69208L4.85001 6.84207C4.65475 7.03733 4.33817 7.03733 4.14291 6.84207C3.94764 6.64681 3.94764 6.33023 4.14291 6.13496L9.27787 1H6.50001C6.22387 1 6.00001 0.776142 6.00001 0.5Z",fill:a||"#2041E0"})]}))));var i})),g=a.memo(f)},144943:(e,t,r)=>{r.d(t,{u:()=>s});var n=r(667294),a=r(363119),o=r(99127);const s=(e,t)=>{const{activeWalletId:r,lpTokensByWallet:s}=(0,a.v9)((e=>e.wallets));return(0,n.useMemo)((()=>{if(e&&t&&s&&s[r]){const n=(0,o.uz)(t.id||t.address,e);return s[r][n]}}),[s,r,t,e])}},725317:(e,t,r)=>{r.d(t,{Z:()=>x});var n=r(785893),a=r(300286),o=r(241164),s=r(412252),i=r(667294),l=r(771341),c=r(876777),d=r(38187),u=r(356308),p=r(674990),h=r(669525),f=Object.defineProperty,g=Object.defineProperties,y=Object.getOwnPropertyDescriptors,m=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,w=(e,t,r)=>t in e?f(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const x=(0,i.memo)((0,i.forwardRef)(((e,t)=>{var r=e,{type:f,label:x,errorMsg:S,warningMsg:C,startAdornment:T,endAdornment:P,tipInfo:_,dataTestId:k,placeholder:I,inputRef:Z,defaultValue:A,onChange:j,onKeyPress:E,autoFocus:O,isWebapp:D=!1,spellCheck:$,name:N,tipError:M,min:B,disabled:F,value:R,tipPlacement:L="left",autoComplete:K="off",onFocus:U,textAlign:W=p.P.Left,className:H,variant:G="md",readOnly:V=!1,step:J=.1}=r,z=((e,t)=>{var r={};for(var n in e)v.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&m)for(var n of m(e))t.indexOf(n)<0&&b.call(e,n)&&(r[n]=e[n]);return r})(r,["type","label","errorMsg","warningMsg","startAdornment","endAdornment","tipInfo","dataTestId","placeholder","inputRef","defaultValue","onChange","onKeyPress","autoFocus","isWebapp","spellCheck","name","tipError","min","disabled","value","tipPlacement","autoComplete","onFocus","textAlign","className","variant","readOnly","step"]);const[X,q]=(0,i.useState)(f),Y=(0,i.useMemo)((()=>T?(0,n.jsx)(d.Z,{mr:10,"data-testid":"startAdornment",children:T}):null),[T]),Q=(0,i.useMemo)((()=>P?(0,n.jsx)(d.Z,{ml:5,"data-testid":"endAdornment",children:P}):"password"===f?(0,n.jsx)(h.iT,{onClick:()=>q("password"===X?"text":"password"),children:"password"===X?(0,n.jsx)(l.tE,{width:16,height:16,color:c.wL.darkGrey}):(0,n.jsx)(l.JP,{width:16,height:16,color:c.wL.darkGrey})}):M||_?(0,n.jsx)(u.ZP,{title:M||_,arrow:!0,fitContent:!0,placement:L,children:(0,n.jsx)(h.Oq,{"data-testid":"tipIcon",children:(0,n.jsx)(h.ag,{$error:!!M})})}):null),[P,X,D,M,_,L,f]);return(0,n.jsxs)(d.Z,(ee=((e,t)=>{for(var r in t||(t={}))v.call(t,r)&&w(e,r,t[r]);if(m)for(var r of m(t))b.call(t,r)&&w(e,r,t[r]);return e})({},z),te={className:H,children:[x&&(0,n.jsx)(d.Z,{pb:8,ml:8,children:(0,n.jsx)(s.Z,{children:x})}),(0,n.jsxs)(h.fv,{$isWebapp:D,$error:!!S||!!M,onClick:U,"data-testid":"inputContainer",children:[Y,(0,n.jsx)(h.II,{style:{textAlign:W},name:N,type:X,placeholder:I,"data-testid":k,$error:!!S,ref:t||Z,autoComplete:K,defaultValue:A,onChange:j,onKeyPress:E,autoFocus:O,spellCheck:$,min:B,disabled:F,value:R,$isWebapp:D,onFocus:U,$variant:G,readOnly:V,step:"number"===f?J:void 0}),Q]}),(0,n.jsx)(h.CV,{$animateIn:!!S,children:(0,n.jsx)(a.Z,{children:S})}),C&&(0,n.jsx)(h.iC,{children:(0,n.jsx)(o.Z,{children:C})})]},g(ee,y(te))));var ee,te})))},670585:(e,t,r)=>{r.d(t,{Z:()=>v});var n=r(785893),a=r(667294),o=r(771341),s=r(38187),i=r(876777),l=r(412252),c=r(300286),d=r(669525),u=Object.defineProperty,p=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,g=(e,t,r)=>t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,y=(e,t)=>{for(var r in t||(t={}))h.call(t,r)&&g(e,r,t[r]);if(p)for(var r of p(t))f.call(t,r)&&g(e,r,t[r]);return e};const m=({showPassword:e,setShowPassword:t})=>(0,n.jsx)(d.Ym,{onClick:()=>t(!e),"data-testid":"eyeContainer",children:(0,n.jsx)(d.iT,{children:e?(0,n.jsx)(o.JP,{width:16,height:16,color:i.wL.darkGrey,"data-testid":"closedEyeIcon"}):(0,n.jsx)(o.tE,{width:16,height:16,color:i.wL.darkGrey,"data-testid":"eyeIcon"})})}),v=(0,a.memo)((0,a.forwardRef)(((e,t)=>{var r=e,{label:o,errorMsg:i,dataTestId:u,placeholder:g,inputRef:v,defaultValue:b,onChange:w,autoFocus:x,spellCheck:S,name:C,className:T,disabled:P,value:_,type:k="text"}=r,I=((e,t)=>{var r={};for(var n in e)h.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&p)for(var n of p(e))t.indexOf(n)<0&&f.call(e,n)&&(r[n]=e[n]);return r})(r,["label","errorMsg","dataTestId","placeholder","inputRef","defaultValue","onChange","autoFocus","spellCheck","name","className","disabled","value","type"]);const[Z,A]=(0,a.useState)(!1);return(0,n.jsxs)(s.Z,{className:T,gridGap:"8px",children:[o&&(0,n.jsx)(s.Z,{ml:8,children:(0,n.jsx)(l.Z,{children:o})}),(0,n.jsxs)(d.Bt,{children:[(0,n.jsx)(d.Kx,y({name:C,placeholder:g,"data-testid":u,ref:v||t,defaultValue:b,onChange:w,autoFocus:x,spellCheck:S,autoComplete:"off",disabled:P,value:_,$error:!!i,$type:"text"===k||Z?"text":"password"},I)),"password"===k&&(0,n.jsx)(m,{showPassword:Z,setShowPassword:A})]}),(0,n.jsx)(d.CV,{$animateIn:!!i,children:(0,n.jsx)(c.Z,{children:i})})]})})))},115254:(e,t,r)=>{r.d(t,{Z:()=>h});var n=r(785893),a=r(667294),o=r(928555),s=Object.defineProperty,i=Object.defineProperties,l=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,p=(e,t,r)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const h=(0,a.memo)((e=>{var t,r,a=e,{data:s,keys:h,dataTestId:f="table"}=a,g=((e,t)=>{var r={};for(var n in e)d.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&c)for(var n of c(e))t.indexOf(n)<0&&u.call(e,n)&&(r[n]=e[n]);return r})(a,["data","keys","dataTestId"]);return(0,n.jsxs)(o.x,(t=((e,t)=>{for(var r in t||(t={}))d.call(t,r)&&p(e,r,t[r]);if(c)for(var r of c(t))u.call(t,r)&&p(e,r,t[r]);return e})({},g),r={"data-testid":f,children:[(0,n.jsx)("thead",{children:(0,n.jsxs)(o.TR,{children:[(0,n.jsx)(o.TH,{children:"#"}),h.map((e=>(0,n.jsx)(o.TH,{"data-testid":"table-header",children:e},e)))]})}),(0,n.jsx)("tbody",{children:s.map(((e,t)=>(0,n.jsxs)(o.TR,{"data-testid":"table-data",children:[(0,n.jsx)("td",{children:t+1}),h.map((t=>(0,n.jsx)("td",{children:e[t]},t)))]},t)))})]},i(t,l(r))))}))},348329:(e,t,r)=>{r.d(t,{Z:()=>f});var n=r(785893),a=r(667294),o=r(776315),s=r(506858),i=r(225758),l=r(650511),c=r(38187),d=r(818117),u=r(230811);const p=(e,t)=>t||e?15:0,h=(0,d.ZP)(c.Z).attrs({width:"100%",maxWidth:"380px",p:16,flexDirection:"row",flexWrap:"wrap",alignItems:"center"})`
  word-break: break-all;
`,f=(0,a.memo)((({data:e,footerLabel:t,alwaysIndents:r})=>{const{t:a}=(0,u.$G)("app"),{open:d,handleToggle:f,ref:g}=(0,s.H)();return(0,n.jsx)(c.Z,{width:"100%","data-testid":"txDataContainer",pb:p(d,r),ref:g,children:(0,n.jsxs)(o.Z,{title:a("tx_data.title"),isOpen:d,onClick:f,children:[Object.entries(e).map((([e,t])=>(0,n.jsx)(i.Z,{title:e,value:t},e))),t&&(0,n.jsx)(h,{children:(0,n.jsx)(l.Z,{children:t})})]})})}))},995928:(e,t,r)=>{r.d(t,{Z:()=>u});var n=r(785893),a=r(876777),o=r(15145),s=Object.defineProperty,i=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,d=(e,t,r)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const u=e=>{var t=e,{dataTestId:r}=t,s=((e,t)=>{var r={};for(var n in e)l.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&i)for(var n of i(e))t.indexOf(n)<0&&c.call(e,n)&&(r[n]=e[n]);return r})(t,["dataTestId"]);return(0,n.jsx)(o.Z,((e,t)=>{for(var r in t||(t={}))l.call(t,r)&&d(e,r,t[r]);if(i)for(var r of i(t))c.call(t,r)&&d(e,r,t[r]);return e})({fontSize:14,lineHeight:"20px",color:a.wL.midGrey,fontWeight:400,"data-testid":r},s))}},691292:(e,t,r)=>{r.a(e,(async(e,n)=>{try{r.d(t,{Z:()=>m,c:()=>y});var a=r(785893),o=r(667294),s=r(363119),i=r(457817),l=r(281672),c=e([i,l]);[i,l]=c.then?(await c)():c;var d=Object.defineProperty,u=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,f=(e,t,r)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,g=(e,t)=>{for(var r in t||(t={}))p.call(t,r)&&f(e,r,t[r]);if(u)for(var r of u(t))h.call(t,r)&&f(e,r,t[r]);return e};const y=(0,o.createContext)({}),m=({children:e,type:t})=>{const r=(0,l.UW)(),{walletNotifications:n,dappNotifications:c}=(0,s.v9)((e=>e.notifications)),d=(0,o.useCallback)((e=>{var a,o;switch(t){case"wallet":(null==e?void 0:e.message)&&(null==e?void 0:e.message)===(null==(a=n[0])?void 0:a.message)||r.addWalletNotification(g({},e));break;case"dapp":(null==e?void 0:e.message)!==(null==(o=c[0])?void 0:o.message)&&r.addDappNotification(g({},e));break;default:throw`Invalid type: ${t}`}}),[r,c,n,t]),u=(0,o.useCallback)((()=>{switch(t){case"wallet":r.removeWalletNotification();break;case"dapp":r.removeDappNotification();break;default:throw`Invalid type: ${t}`}}),[r,t]),p={addNotification:d,removeNotification:u,type:t},h=(0,s.v9)((e=>{var r,n,a,o;return"wallet"===t?null!=(n=null==(r=null==e?void 0:e.notifications)?void 0:r.walletNotifications)?n:[]:null!=(o=null==(a=null==e?void 0:e.notifications)?void 0:a.dappNotifications)?o:[]}));return(0,a.jsxs)(y.Provider,{value:p,children:[e,!!(null==h?void 0:h.length)&&(0,a.jsx)(i.ZP,{notification:null==h?void 0:h[0],onClose:u,type:null==h?void 0:h[0].type},h[0].id)]})};n()}catch(e){n(e)}}))},179826:(e,t,r)=>{t.serializeError=t.ethErrors=void 0;const n=r(12294);const a=r(268753);Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return a.serializeError}});const o=r(768797);Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return o.ethErrors}});const s=r(892662)},872408:(e,t)=>{var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,y={};function m(e,t,r){this.props=e,this.context=t,this.refs=y,this.updater=r||f}function v(){}function b(e,t,r){this.props=e,this.context=t,this.refs=y,this.updater=r||f}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=m.prototype;var w=b.prototype=new v;w.constructor=b,g(w,m.prototype),w.isPureReactComponent=!0;var x=Array.isArray,S=Object.prototype.hasOwnProperty,C={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function P(e,t,n){var a,o={},s=null,i=null;if(null!=t)for(a in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(s=""+t.key),t)S.call(t,a)&&!T.hasOwnProperty(a)&&(o[a]=t[a]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];o.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===o[a]&&(o[a]=l[a]);return{$$typeof:r,type:e,key:s,ref:i,props:o,_owner:C.current}}function _(e){return"object"==typeof e&&null!==e&&e.$$typeof===r}var k=/\/+/g;function I(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function Z(e,t,a,o,s){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var l=!1;if(null===e)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case r:case n:l=!0}}if(l)return s=s(l=e),e=""===o?"."+I(l,0):o,x(s)?(a="",null!=e&&(a=e.replace(k,"$&/")+"/"),Z(s,t,a,"",(function(e){return e}))):null!=s&&(_(s)&&(s=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,a+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(k,"$&/")+"/")+e)),t.push(s)),1;if(l=0,o=""===o?".":o+":",x(e))for(var c=0;c<e.length;c++){var d=o+I(i=e[c],c);l+=Z(i,t,a,d,s)}else if(d=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"==typeof d)for(e=d.call(e),c=0;!(i=e.next()).done;)l+=Z(i=i.value,t,a,d=o+I(i,c++),s);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,r){if(null==e)return e;var n=[],a=0;return Z(e,n,"","",(function(e){return t.call(r,e,a++)})),n}function j(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var E={current:null},O={transition:null},D={ReactCurrentDispatcher:E,ReactCurrentBatchConfig:O,ReactCurrentOwner:C};t.Children={map:A,forEach:function(e,t,r){A(e,(function(){t.apply(this,arguments)}),r)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=a,t.Profiler=s,t.PureComponent=b,t.StrictMode=o,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,n){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=g({},e.props),o=e.key,s=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,i=C.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!T.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];a.children=l}return{$$typeof:r,type:e.type,key:o,ref:s,props:a,_owner:i}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=P,t.createFactory=function(e){var t=P.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:j}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return E.current.useCallback(e,t)},t.useContext=function(e){return E.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return E.current.useDeferredValue(e)},t.useEffect=function(e,t){return E.current.useEffect(e,t)},t.useId=function(){return E.current.useId()},t.useImperativeHandle=function(e,t,r){return E.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return E.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return E.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return E.current.useMemo(e,t)},t.useReducer=function(e,t,r){return E.current.useReducer(e,t,r)},t.useRef=function(e){return E.current.useRef(e)},t.useState=function(e){return E.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return E.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return E.current.useTransition()},t.version="18.2.0"},667294:(e,t,r)=>{e.exports=r(872408)},764079:(e,t,r)=>{r.d(t,{FD:()=>l,Jb:()=>c,Np:()=>u,Wj:()=>o,XV:()=>i,df:()=>d,id:()=>p,m:()=>n,sv:()=>a,yF:()=>s});r(927289),r(844929),r(377538),r(150985),r(325051),r(133849),r(911614),r(655013),r(314523),r(909177),r(184464),r(269549),r(547450),r(651752),r(78116),r(832751),r(589398),r(677404),r(135153),r(579057),r(712090),r(246231),r(920705),r(60763),r(793281),r(683269),r(985383),r(384276),r(596534),r(567771),r(330797),r(725863),r(954638),r(508020),r(50902),r(968664),r(571432),r(581264),r(115174),r(167468),r(90507),r(993850),r(118041),r(786730),r(669678),r(603148),r(465479),r(638012),r(677770),r(515583),r(413749),r(975740),r(477030),r(230260),r(558012),r(944685),r(413937),r(497228),r(351602),r(390164),r(749184),r(676051),r(225912),r(190556),r(738021),r(941123),r(527923),r(522505),r(560718),r(471066),r(420686),r(67239),r(711372),r(360636),r(407025),r(90210);var n=r(950035),a=(r(310270),r(492406)),o=r(969154),s=r(962020),i=(r(334113),r(684352),r(29083),r(641912),r(564962),r(774743),r(460601)),l=(r(177184),r(282766)),c=(r(161953),r(812823),r(181063),r(875506),r(965735),r(290847),r(772774),r(691448),r(919029)),d=r(258416),u=r(931748),p=r(862828)},493730:(e,t,r)=>{r.a(e,(async(e,n)=>{try{r.d(t,{AccountBalance:()=>a.r});var a=r(358156),o=r(533448);r.o(o,"ConfirmDialog")&&r.d(t,{ConfirmDialog:function(){return o.ConfirmDialog}}),r.o(o,"DappNotConnectedDialog")&&r.d(t,{DappNotConnectedDialog:function(){return o.DappNotConnectedDialog}}),r.o(o,"DappScreen")&&r.d(t,{DappScreen:function(){return o.DappScreen}}),r.o(o,"FullWidthSelectChain")&&r.d(t,{FullWidthSelectChain:function(){return o.FullWidthSelectChain}}),r.o(o,"SortingHeader")&&r.d(t,{SortingHeader:function(){return o.SortingHeader}}),r.o(o,"useConfirmDialog")&&r.d(t,{useConfirmDialog:function(){return o.useConfirmDialog}});var s=e([a]);a=(s.then?(await s)():s)[0],n()}catch(e){n(e)}}))},385167:(e,t,r)=>{r.a(e,(async(e,t)=>{try{var n=r(982107),a=e([n]);n=(a.then?(await a)():a)[0],t()}catch(e){t(e)}}))},582242:(e,t,r)=>{var n=r(818117);const a="?popup=true"===window.location.search;n.vJ`
  ${!a&&n.iv`
      html {
        height: 100% !important;
      }

      @font-face {
        font-family: Montserrat;
        font-weight: 700;
        src: url(../../assets/fonts/Montserrat-Bold.woff2) format('woff2'),
          url(../../assets/fonts/Montserrat-Bold.woff) format('woff');
      }

      @font-face {
        font-family: Montserrat;
        font-weight: 600;
        src: url(../../assets/fonts/Montserrat-SemiBold.woff2) format('woff2'),
          url(../../assets/fonts/Montserrat-SemiBold.woff) format('woff');
      }

      @font-face {
        font-family: Montserrat;
        font-weight: 500;
        src: url(../../assets/fonts/Montserrat-Medium.woff2) format('woff2'),
          url(../../assets/fonts/Montserrat-Medium.woff) format('woff');
      }

      @font-face {
        font-family: Montserrat;
        font-weight: 400;
        src: url(../../assets/fonts/Montserrat-Regular.woff2) format('woff2'),
          url(../../assets/fonts/Montserrat-Regular.woff) format('woff');
      }

      @font-face {
        font-family: Montserrat;
        font-weight: 300;
        src: url(../../assets/fonts/Montserrat-Light.woff2) format('woff2'),
          url(../../assets/fonts/Montserrat-Light.woff) format('woff');
      }
    `}
`},409061:(e,t,r)=>{r.a(e,(async(e,n)=>{try{r.d(t,{a:()=>o.a});var a=r(347227),o=r(255942),s=e([a]);a=(s.then?(await s)():s)[0],n()}catch(e){n(e)}}))},465438:(e,t,r)=>{r.a(e,(async(e,n)=>{try{var a=r(919020),o=r(632649);r.o(o,"ConfirmDialog")&&r.d(t,{ConfirmDialog:function(){return o.ConfirmDialog}}),r.o(o,"DappNotConnectedDialog")&&r.d(t,{DappNotConnectedDialog:function(){return o.DappNotConnectedDialog}}),r.o(o,"FullWidthSelectChain")&&r.d(t,{FullWidthSelectChain:function(){return o.FullWidthSelectChain}}),r.o(o,"useConfirmDialog")&&r.d(t,{useConfirmDialog:function(){return o.useConfirmDialog}});var s=e([a]);a=(s.then?(await s)():s)[0],n()}catch(e){n(e)}}))},646284:(e,t,r)=>{r.a(e,(async(e,n)=>{try{r.d(t,{AccountSelect:()=>o.Z,AddressInput:()=>x.J,AgreeTerms:()=>s.Z,AssetIcon:()=>b.Y,ConfirmDialog:()=>U.QH,DappNotConnectedDialog:()=>W.J,DappScreen:()=>E.J,FormField:()=>C.W,FormHeader:()=>m.ph,FullWidthSelectChain:()=>$.Z,InfoHelper:()=>y.Z,Loader:()=>d.Z,MaxGweiPopup:()=>u.Z,RenameDialog:()=>h.Z,SortingHeader:()=>k.c,useConfirmDialog:()=>U.WK});var a=r(599527),o=r(641124),s=r(170166),i=r(50727),l=r(398357),c=(r(875930),r(343634)),d=r(882935),u=r(744238),p=r(663856),h=r(345058),f=r(33961),g=r(310666),y=(r(221379),r(21723)),m=r(204255),v=r(143747),b=r(430648),w=r(926182),x=r(679896),S=r(537896),C=r(83668),T=r(493730),P=r(340134),_=r(463193),k=r(136303),I=r(715413),Z=r(179060),A=r(372950),j=r(104183),E=r(230679),O=r(465438),D=r(292098),$=r(228819),N=r(113863),M=r(781850),B=r(385167),F=r(409061),R=r(17349),L=r(366013),K=r(882478),U=r(316708),W=r(319685),H=e([a,o,s,i,l,c,d,u,p,h,f,g,y,m,v,b,w,x,S,C,T,P,_,k,I,Z,A,j,E,O,D,$,N,M,B,F,R,L,K,U,W]);[a,o,s,i,l,c,d,u,p,h,f,g,y,m,v,b,w,x,S,C,T,P,_,k,I,Z,A,j,E,O,D,$,N,M,B,F,R,L,K,U,W]=H.then?(await H)():H,r.o(T,"ConfirmDialog")&&r.d(t,{ConfirmDialog:function(){return T.ConfirmDialog}}),r.o(T,"DappNotConnectedDialog")&&r.d(t,{DappNotConnectedDialog:function(){return T.DappNotConnectedDialog}}),r.o(T,"DappScreen")&&r.d(t,{DappScreen:function(){return T.DappScreen}}),r.o(T,"FullWidthSelectChain")&&r.d(t,{FullWidthSelectChain:function(){return T.FullWidthSelectChain}}),r.o(T,"SortingHeader")&&r.d(t,{SortingHeader:function(){return T.SortingHeader}}),r.o(T,"useConfirmDialog")&&r.d(t,{useConfirmDialog:function(){return T.useConfirmDialog}}),r.o(O,"ConfirmDialog")&&r.d(t,{ConfirmDialog:function(){return O.ConfirmDialog}}),r.o(O,"DappNotConnectedDialog")&&r.d(t,{DappNotConnectedDialog:function(){return O.DappNotConnectedDialog}}),r.o(O,"FullWidthSelectChain")&&r.d(t,{FullWidthSelectChain:function(){return O.FullWidthSelectChain}}),r.o(O,"useConfirmDialog")&&r.d(t,{useConfirmDialog:function(){return O.useConfirmDialog}}),n()}catch(e){n(e)}}))},855192:(e,t,r)=>{r.a(e,(async(e,n)=>{try{r.d(t,{FU:()=>R,X7:()=>O,Y9:()=>$,cj:()=>N,di:()=>E,mp:()=>B,o3:()=>M,oi:()=>D,zh:()=>F});var a=r(409669),o=r.n(a),s=r(847001),i=r(831352),l=r(59854),c=r.n(l),d=r(834392),u=r(739989),p=r(101668),h=r(626423),f=r(330101),g=r(623638),y=r(189556),m=r(379372),v=r(691438),b=e([m]);m=(b.then?(await b)():b)[0];var w=Math.pow,x=(e,t,r)=>new Promise(((n,a)=>{var o=e=>{try{i(r.next(e))}catch(e){a(e)}},s=e=>{try{i(r.throw(e))}catch(e){a(e)}},i=e=>e.done?n(e.value):Promise.resolve(e.value).then(o,s);i((r=r.apply(e,t)).next())}));const S=["< 15 Seconds","30 Seconds","> 30 Seconds"],C=["Fast","Average","Low"],T=["high","medium","low"],P=[99,85,70],_=e=>{switch(e){case i.yp.Avalanche:case i.yp.BinanceSmartChain:return.05;case i.yp.Arbitrum:return 15/60;case i.yp.Fantom:return 1/60;case i.yp.CronosEvm:return.1;case i.yp.Klaytn:return 1/60;case i.yp.Gnosis:return 5/60;case i.yp.CantoEvm:return.1;case i.yp.Optimism:return 2/60;default:return.25}},k=2,I=2,Z=3,A=5,j=e=>!!(null==e?void 0:e.msg_type)&&void 0!==(null==e?void 0:e.fee)&&void 0!==(null==e?void 0:e.fee_for),E=e=>j(null==e?void 0:e.fixed_fee_params)&&!!(null==e?void 0:e.multi_transfer_fee),O=e=>x(void 0,null,(function*(){u.Z.debug({msg:"getEVMGasPrice",chainId:e.getId()});try{if(e.support(v.B.NativeSupport)){const t=h.hv[e.getConfig().network.chainId];if(!e.support(v.B.Eip1559))return B(e.getConfig().network.jsonRpcProviderUrl[p.G.Rpc],_(t));{const e=yield $(t);if(!Array.isArray(e))return e;{const t=e.find((e=>"Fast"===e.label));if(t)return t}}throw`getEVMGasPrice not implemented for ${e.getId()} `}return B(e.getConfig().network.jsonRpcProviderUrl[p.G.Rpc],_(e.getId()))}catch(t){return u.Z.error("getEVMGasPrice",{e:t,chainId:e.getId()}),Promise.reject(t)}})),D=e=>x(void 0,null,(function*(){u.Z.debug({msg:"getGasPrice",chain:e.getType()});try{return e.support(v.B.Eip1559)&&e.support(v.B.NativeSupport)?yield $(h.hv[e.getConfig().network.chainId]):Promise.reject("Wrong chainId")}catch(t){return u.Z.error("getEVMGasPrice",{e:t,chain:e.getType()}),Promise.reject(t)}})),$=e=>x(void 0,null,(function*(){try{return yield M(e)}catch(t){return u.Z.error(`fetch gas price error: ${t}`),Promise.resolve(R(F(e)))}})),N=()=>x(void 0,null,(function*(){const e=(yield(0,f.Io)("https://bbc-dex.xdefiservices.com/api/v1/fees")).find((e=>E(e)&&"send"===(null==e?void 0:e.fixed_fee_params.msg_type)))||void 0;return((null==e?void 0:e.fixed_fee_params.fee)||0)/w(10,8)})),M=e=>x(void 0,null,(function*(){const{data:t}=yield(0,g.O)("network-only");return[y.m.High,y.m.Medium,y.m.Low].reduce(((r,n)=>{const{baseFeePerGas:a,priorityFeePerGas:o,maxFeePerGas:s}=t[e].fee[n],i=T.findIndex((e=>e===n));if(i<0)return r;const l={label:C[i],fiat:"",maxFeePerGas:s,baseFee:a,maxPriorityFeePerGas:o,processingTime:S[i],value:P[i]};return r.push(l),r}),[])})),B=(e,t)=>x(void 0,null,(function*(){const r=JSON.stringify({jsonrpc:"2.0",method:"eth_gasPrice",params:[],id:1}),n={method:"POST",url:e,headers:{"Content-Type":"application/json"},data:r};return o()(n).then((e=>{var r;u.Z.info(e.data);try{const n=null==(r=e.data)?void 0:r.result;u.Z.debug({response:e,res:n});const a=Math.max(Number(n)/m.uR,1/d.uO),o=1.1*a,s=1.5*a,i=1.2*a,l={safeLow:o,average:s,fast:i,fastest:i,gasPriceRange:{[o]:1.4*t,[s]:1.2*t,[i]:t}};return Promise.resolve(l)}catch(e){return u.Z.error(`Failed to parse: ${e}, defaults to 10`),Promise.reject(e)}})).catch((e=>(u.Z.error({msg:`fetchEthJsonRpcGasPrice error: ${e} `,error:e}),Promise.reject(e))))})),F=e=>{switch(e){case i.yp.Ethereum:case i.yp.Avalanche:return 50;case i.yp.Polygon:return 205;default:throw"Not defined default base fee for "+e}},R=(e=0)=>{const t=c()(1.125*e*1.125*1.125,k)||+s.Z.get("DEFAULT_MAX_FEE_RATE");return[{label:"Ape",fiat:"",maxFeePerGas:t,baseFee:e,maxPriorityFeePerGas:A,processingTime:"15 Seconds",value:95,fallback:!0},{label:"Fast",fiat:"",maxFeePerGas:t,baseFee:e,maxPriorityFeePerGas:Z,processingTime:"30 Seconds",value:80,fallback:!0},{label:"Average",fiat:"",maxFeePerGas:t,baseFee:e,maxPriorityFeePerGas:I,processingTime:"> 30 Seconds",value:70,fallback:!0}]};n()}catch(e){n(e)}}))},379372:(e,t,r)=>{r.a(e,(async(e,n)=>{try{r.d(t,{eK:()=>he,uR:()=>fe,xP:()=>ye});var a=r(177616),o=r(273472),s=r(264487),i=r(783313),l=r(409669),c=r.n(l),d=r(244431),u=r.n(d),p=r(255357),h=r(575019),f=r(847001),g=r(831352),y=r(514070),m=r(564586),v=r(644760),b=r(350144),w=r(327194),x=r(793901),S=r(82169),C=r(497050),T=r(939165),P=r(496519),_=r(168810),k=r(216440),I=r(953518),Z=r(873786),A=r(256371),j=r(522933),E=r(496486),O=r(680528),D=r(882130),$=r(851892),N=r(739989),M=r(626423),B=r(42763),F=r(556138),R=r(330101),L=r(731627),K=r(222751),U=r(605930),W=r(46461),H=r(124093),G=r(608648),V=r(730876),J=r(628790),z=r(803418),X=r(630292),q=r(691438),Y=r(99127),Buffer=r(348764).Buffer,Q=e([h,B,X]);[h,B,X]=Q.then?(await Q)():Q;var ee=Object.defineProperty,te=Object.defineProperties,re=Object.getOwnPropertyDescriptors,ne=Object.getOwnPropertySymbols,ae=Object.prototype.hasOwnProperty,oe=Object.prototype.propertyIsEnumerable,se=Math.pow,ie=(e,t,r)=>t in e?ee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,le=(e,t)=>{for(var r in t||(t={}))ae.call(t,r)&&ie(e,r,t[r]);if(ne)for(var r of ne(t))oe.call(t,r)&&ie(e,r,t[r]);return e},ce=(e,t)=>te(e,re(t)),de=(e,t,r)=>(ie(e,"symbol"!=typeof t?t+"":t,r),r),ue=(e,t,r)=>new Promise(((n,a)=>{var o=e=>{try{i(r.next(e))}catch(e){a(e)}},s=e=>{try{i(r.throw(e))}catch(e){a(e)}},i=e=>e.done?n(e.value):Promise.resolve(e.value).then(o,s);i((r=r.apply(e,t)).next())}));const pe=e=>`m/44'/60'/0'/0/${e}`,he=(se(10,9),15e3),fe=se(10,9),ge=(se(10,18),class extends X.NL{constructor(e,t){super(t),this.masterController=e,de(this,"provider"),de(this,"getTokenBalanceMulti",((e,t)=>ue(this,null,(function*(){var r;try{if(!this.config.network.multicallContractAddress){return yield Promise.all(t.map((t=>ue(this,null,(function*(){const r=yield this.getTokenBalance(t,e);return{address:t,balance:r}})))))}{const n=yield(0,o.m)(t.filter((e=>!!e)).map((t=>({call:["balanceOf(address)(uint256)",e],returns:[[`${t}`,e=>e]],target:t}))),{multicallAddress:this.config.network.multicallContractAddress,rpcUrl:this.config.network.jsonRpcProviderUrl.rpc});if(null==(r=n.results)?void 0:r.transformed)return Object.keys(n.results.transformed).map((e=>({address:e,balance:n.results.transformed[e]})))}}catch(e){return N.Z.info("getTokenBalanceMulti error",e),s.Tb(e),Promise.reject(e)}return[]})))),de(this,"isSignMessage",(e=>{const{method:t}=e.raw;return ge.methodToSignScreen.includes(t)})),de(this,"prePareUnsignedTx",((e,t,r=!1)=>ue(this,null,(function*(){var n;const o=Number(this.config.network.chainId),{gasLimit:s,gasPrice:i,nonce:l,maxFeePerGas:c,maxPriorityFeePerGas:d}=t,u={chainId:o,data:e.data,gasLimit:s,gasPrice:i,nonce:l,to:e.toAddress,type:0,value:r?w.O$.from(e.amount.toString()):a.parseUnits(e.amount.toString(),null!=(n=null==e?void 0:e.decimals)?n:18)};if(t.maxFeePerGas&&(u.gasPrice=void 0,u.maxFeePerGas=t.maxFeePerGas,u.type=2,u.maxPriorityFeePerGas=t.maxPriorityFeePerGas),e.isToken){const t=this.getContract(e.address,g.Yn.Erc20),r=yield t.populateTransaction.transfer(e.toAddress,a.parseUnits(e.amount.toString(),String(e.decimals)));u.value="0x0",u.data=r.data,u.to=r.to}else if(e.isNFT){const t=this.getContract(e.address,e.contractType);let r;switch(e.contractType){case g.Yn.Erc721:r=yield t.populateTransaction[O.Ds](e.fromAddress,e.toAddress,e.nftId,{gasLimit:s,gasPrice:i,nonce:l,maxFeePerGas:c,maxPriorityFeePerGas:d});break;case g.Yn.Erc1155:r=yield t.populateTransaction[O.Df](e.fromAddress,e.toAddress,e.nftId,1,[],{gasLimit:s,gasPrice:i,nonce:l,maxFeePerGas:c,maxPriorityFeePerGas:d});break;default:throw(0,W.t)("app:controller_errors.invalid_token_standard")}u.data=r.data,u.to=r.to,u.value=r.value}return N.Z.info({baseTx:u}),u})))),de(this,"getKlaytnTransactions",(()=>ue(this,null,(function*(){var e,t;const{activeWalletId:r,wallets:n}=B.Z.getState().wallets,a=null==(t=null==(e=null==n?void 0:n[r])?void 0:e.chainData[this.config.id])?void 0:t.address;if(!a)return;const o=yield L.Z.getTransactions(a);yield(0,p.h4)({walletId:r,chainId:this.config.id,transactions:o.transactions,blockNumber:o.latestBlockNumber})})))),de(this,"getAuroraTransactions",(()=>ue(this,null,(function*(){var e,t,r,n,o;const{activeWalletId:s,wallets:i}=B.Z.getState().wallets,l=null==(r=null==(t=null==(e=null==i?void 0:i[s])?void 0:e.chainData)?void 0:t[this.config.id])?void 0:r.address;if(!l)return;const c=yield(0,H.u)(l),d=c.data.address.transactions.edges.map((e=>{var t;const r=e.node;return{from:r.fromAddressHash,to:r.toAddressHash,action:"send",hash:r.hash,amount:(0,a.formatEther)(r.value),status:r.error?"failed":r.status?"successful":"pending",symbol:"ETH",isSender:(null==(t=r.fromAddressHash)?void 0:t.toLowerCase())===(null==l?void 0:l.toLowerCase()),date:new Date,chainId:this.config.id,data:r.input,contractAddress:"",tokenSymbol:"ETH"}}));yield(0,p.h4)({walletId:s,chainId:this.config.id,transactions:[...d],blockNumber:null!=(o=null==(n=c.data.address.transactions.edges[0])?void 0:n.node.blockNumber)?o:0})})))),de(this,"getCantoTransactions",(()=>ue(this,null,(function*(){var e,t,r,n,o;const{activeWalletId:s,wallets:i}=B.Z.getState().wallets,l=null==(r=null==(t=null==(e=null==i?void 0:i[s])?void 0:e.chainData)?void 0:t[this.config.id])?void 0:r.address;if(!l)return;const c=yield(0,G.j)(l),d=c.data.address.transactions.edges.map((e=>{var t;const r=e.node;return{from:r.fromAddressHash,to:r.toAddressHash,action:"send",hash:r.hash,amount:(0,a.formatEther)(r.value),status:r.error?"failed":r.status?"successful":"pending",symbol:"CANTO",isSender:(null==(t=r.fromAddressHash)?void 0:t.toLowerCase())===(null==l?void 0:l.toLowerCase()),date:new Date,chainId:this.getId(),data:r.input,contractAddress:"",tokenSymbol:"CANTO"}}));yield(0,p.h4)({walletId:s,chainId:this.config.id,transactions:[...d],blockNumber:null!=(o=null==(n=c.data.address.transactions.edges[0])?void 0:n.node.blockNumber)?o:0})})))),de(this,"parseAndSaveEVMTransactions",((e,t,r,n,a,o)=>ue(this,null,(function*(){try{const s=`${e}/api?module=account&action=txlist&address=${t}&startblock=0&endblock=${o}`,i=yield(0,R.Io)(s),l=(0,R.Sg)(i),c=(0,R.bn)(l,t,this.masterController.chains.getChainControllerById(n)),d=this.eVMDetailsHelper(c),u=yield(0,R.Io)(`${e}/api?module=account&action=tokentx&address=${t}&startblock=${r}&endblock=${o}`),h=(0,R.Sg)(u),f=(0,R.g7)(h,t,n),g=this.eVMDetailsHelper(f),y=yield(0,R.Io)(`${e}/api?module=account&action=txlistinternal&address=${t}&startblock=${r}&endblock=${o}`),m=(0,R.Sg)(y),v=(0,R.pq)(m,t,n),b=this.eVMDetailsHelper(v);(d.length||g.length||b.length)&&(yield(0,p.h4)({walletId:a,chainId:n,transactions:[...d,...g,...b],blockNumber:o}))}catch(e){if(e&&"invalid response"===(null==e?void 0:e.message))return;throw e}})))),de(this,"getInteractedErc20",(e=>ue(this,null,(function*(){return(0,Y.Eq)(`${this.getConfig().network.explorer}/api?module=account&action=tokentx&address=${e}&startblock=0&endblock=99999999999&page=1&&sort=desc`)}))));try{this.provider=new x.c(this.config.network.jsonRpcProviderUrl.rpc,{name:this.config.network.chainId,chainId:Number(this.config.network.chainId),ensAddress:f.Z.get("ENS_CONTRACT_ADDRESS")})}catch(e){this.provider=new x.c(this.config.network.jsonRpcProviderUrl.rpc)}}getOwnedTokens(e){return Promise.resolve([])}reloadJsonRpcProvidersUrls(){this.config.network.defaultRpc&&(this.config.network.jsonRpcProviderUrl[F.NodeUrlKey.Rpc]=this.overridesDefaults(this.config.network.defaultRpc),this.setProvider())}getProvider(){return this.provider}setProvider(){try{const e=Number(this.getConfig().network.chainId);this.provider=new x.c(this.config.network.jsonRpcProviderUrl.rpc,{name:this.config.shortName,chainId:e})}catch(e){this.provider=new x.c(this.config.network.jsonRpcProviderUrl.rpc)}}overridesDefaults(e){const{chains:t}=B.Z.getState().chains,r=t.find((e=>e.id===this.getId()));return r&&!(0,j.fp)(r.network.jsonRpcProviderUrl[F.NodeUrlKey.Rpc])?r.network.jsonRpcProviderUrl[F.NodeUrlKey.Rpc]:e[F.NodeUrlKey.Rpc]}checkCustomRpcUrl(e,t){return ue(this,null,(function*(){const r=this.getConfig().network.chainId;if(!r)throw`checkCustomRpcUrl not supported for ${e} `;let n;try{const{chainId:e}=yield new S.r(t[F.NodeUrlKey.Rpc]).getNetwork();n=e}catch(e){throw s.Tb(e),`Failed to retrieve chainId for ${t[F.NodeUrlKey.Rpc]} in ${this.config.longName}`}if(n!==Number(r))throw`${t[F.NodeUrlKey.Rpc]} has chainID mismatch with expected ${r} and actual ${n}`}))}static validateAddress(e){return i.validate(e,"eth","prod")}validateAddress(e){return ge.validateAddress(e)}initClient(e=new V.H(f.Z.get("EXAMPLE_BIP39")),t=0){return C.Wallet.fromMnemonic(e.toString(),pe(t)).connect(this.provider)}initClientWithPrivateKey(e){return new C.Wallet(e).connect(this.provider)}getAddress(e){if(!e.seed&&!e.pk||e.pk&&e.seed)throw"getAddress: Wrong arguments";if(e.pk){return{address:new C.Wallet(e.pk).address}}if(e.seed){return{address:C.Wallet.fromMnemonic(e.seed.seed.toString(),pe(e.seed.walletIndex)).address}}throw"getAddress: Wrong arguments"}getPrivateKey(e){if(!e.seed)throw"getPrivateKey: Wrong arguments";if(e.seed){const t=C.Wallet.fromMnemonic(e.seed.toString(),pe(e.walletIndex));return T.isHexString(t.privateKey)?t.privateKey.slice(2):t.privateKey}throw"getPrivateKey: wrong arguments"}getAddressByWallet(e){return B.Z.getState().wallets.wallets[e].chainData[this.getId()].address}getTokenBalance(e,t){return new P.CH(e,m,this.provider).balanceOf(t)}getBalance(e){return ue(this,null,(function*(){try{const t=yield this.provider.getBalance(e);return(0,a.formatEther)(t)}catch(e){throw N.Z.error(`ethClient getBalance ${e}`),s.Tb(e),e}}))}getChainBalanceStateUpdate(e){return new Promise(((t,r)=>{const{wallets:n}=B.Z.getState().wallets,o=this.getId(),{address:i}=n[e].chainData[o];try{this.provider.getBalance(i).then((r=>{t({walletId:e,chainId:o,chainBalance:String((0,a.formatEther)(r))})})).catch((e=>{N.Z.error(`EVMBasedController getBalance ${e} for`),s.Tb(e),r(e)}))}catch(e){s.Tb(e),r(e)}}))}getTokenBalancesStateUpdate(e){return new Promise(((t,r)=>{const{wallets:n}=B.Z.getState().wallets,a=this.config.id;if(void 0===n[e].chainData[a])return r(`Chain ${this.config.id} does not exists for specified wallet`);const{address:o}=n[e].chainData[a],i=n[e].chainData[a].tokens;try{if(i&&Object.keys(i).length>0){const n=Object.values(i).reduce(((e,t)=>t.address?[...e,t.address]:[...e]),[]);N.Z.debug({tokenAddresses:n}),this.getTokenBalanceMulti(o,n).then((r=>{const n=(null==r?void 0:r.length)?r:[],o=le({},B.Z.getState().balances[e].chains[a].tokens);n.forEach((e=>{var t;const r=null==(t=e.address)?void 0:t.toLowerCase();o[r]?o[r]=ce(le({},o[r]),{balance:e.balance}):o[r]={balance:e.balance}})),t({walletId:e,chainId:a,tokenBalances:o})})).catch((e=>{N.Z.error(`Failed to fetch erc20 tokens balances ${e}`),s.Tb(e),r(e)}))}else t({walletId:e,chainId:a,tokenBalances:{}})}catch(e){N.Z.error(e),s.Tb(e),r(e)}}))}updateBalance(e){return void 0===!B.Z.getState().wallets.wallets[e].chainData[this.getId()]?Promise.reject():new Promise(((t,r)=>{try{Promise.allSettled([this.getChainBalanceStateUpdate(e),this.getTokenBalancesStateUpdate(e)]).then((([e,n])=>{"fulfilled"===e.status?"fulfilled"===n.status?t({chainBalanceStateUpdate:e.value,tokenBalancesStateUpdate:n.value}):(N.Z.error({msg:`${this.getType()} error updating token balances`,err:n}),t({chainBalanceStateUpdate:e.value})):(N.Z.error(`${this.getType()} error updating chain balance`),r(`${this.getType()} error updating chain balance`))}))}catch(e){N.Z.error(e),s.Tb(e),r(e)}}))}getTransactionReceipt(e){return this.provider.getTransactionReceipt(e)}ethereumKeystoreInit(e,t,r,n){return ue(this,null,(function*(){const a=yield(0,J.WR)(t,r),o=this.initClient(a,n);return o.address!==_.getAddress(e)?Promise.reject(`from address not matching wallet ${o.address} != ${e}`):o}))}estimateTx(e,t,r,n){return ue(this,null,(function*(){const a=this.initClient();try{return(yield a.provider.estimateGas({from:e,to:t,value:r,data:n})).mul(100*Number(f.Z.get("FACTOR_ESTIMATE"))).div(100)}catch(e){throw $.vy.GasLimit}}))}estimateAssetTx(e,t,r,n,a,o){return ue(this,null,(function*(){if(!o)throw(0,W.t)("app:controller_errors.unable_to_send_nft");if(r&&!this.validateAddress(r))return Promise.reject((0,W.t)("app:controller_errors.invalid_address"));if(!this.validateAddress(e))return Promise.reject((0,W.t)("app:controller_errors.invalid_erc_contract_address"));try{const s=this.getContract(e,o);switch(o){case g.Yn.Erc20:return s.estimateGas.transfer(r,n,{from:t});case g.Yn.Erc721:return s.estimateGas[O.Ds](t,r,a.nftId);case g.Yn.Erc1155:return s.estimateGas[O.Df](t,r,a.nftId,1,[],{from:t});default:throw(0,W.t)("app:controller_errors.invalid_token_standard")}}catch(e){throw $.vy.GasLimit}}))}addPendingTransaction(e){return ue(this,null,(function*(){const{activeWalletId:t}=B.Z.getState().wallets;yield(0,p.pr)({walletId:t,chainId:this.getId(),transactions:this.eVMDetailsHelper([e])})}))}buildCustomTxMeta(e,t,r,n){return{from:t||"",to:r||"",action:"send",amount:(null==n?void 0:n.toString())||"0",hash:e.hash,status:"pending",isSender:!0,date:new Date,chainId:this.config.id,icon:this.config.image,symbol:this.config.tokenSymbol,contractAddress:e.contractAddress}}getNonce(e=""){return this.getTransactionCount(e)}getTransactionCount(e){return new Promise(((t,r)=>this.provider.getTransactionCount(e,"pending").then((e=>{N.Z.debug({txCount:e}),t(e)})).catch((e=>{N.Z.info(e),r(e)}))))}getTransactionByHash(e){return new Promise(((t,r)=>this.provider.getTransaction(e).then((e=>{N.Z.debug({tx:e}),t(e)})).catch((e=>{N.Z.info(e),r(e)}))))}static decodeErr(e){const t=new TextDecoder;let r=e.body||e;try{const n=t.decode(e.body);r=JSON.parse(n),N.Z.info("respErr",r)}catch(e){N.Z.error(`Failed to parse: ${e}`)}return r}eVMDetailsHelper(e){var t;try{const{activeWalletId:r,wallets:n}=B.Z.getState().wallets,o=null==(t=n[r].chainData[this.getId()])?void 0:t.tokens;return e.map((e=>{const t=w.O$.from(e.amount||0);let r=(0,a.formatEther)(t),n=this.getConfig().tokenSymbol,s=null,i=e.to,l="";const c=(0,D.y4)(null==e?void 0:e.tokenSymbol,null==e?void 0:e.data)||!!(null==e?void 0:e.contractAddress),d=this.masterController.assets.getTopTokensByChain(this.config.id);if(e.contractAddress||c){s=d&&d.find((t=>{var r,n,a,o;return(null==(r=t.address)?void 0:r.toUpperCase())===(null==(n=e.contractAddress)?void 0:n.toUpperCase())||(null==(a=t.address)?void 0:a.toUpperCase())===(null==(o=e.to)?void 0:o.toUpperCase())}))||o&&Object.values(o).find((t=>{var r,n,a,o;return(null==(r=t.address)?void 0:r.toUpperCase())===(null==(n=e.contractAddress)?void 0:n.toUpperCase())||(null==(a=t.address)?void 0:a.toUpperCase())===(null==(o=e.to)?void 0:o.toUpperCase())}))||null;const c=(null==s?void 0:s.decimals)||18;if(n=(null==s?void 0:s.symbol)||e.symbol||this.config.tokenSymbol,r=a.formatUnits(t,c),!e.contractAddress){const[t,n]=(0,D.A$)(e.data||"");i=t,r=a.formatUnits(n||0,c)}(null==s?void 0:s.image)&&(l=null==s?void 0:s.image)}return this.getConfig().tokenSymbol!==n&&l||(l=this.getConfig().fallbackImage),ce(le({},e),{icon:l,symbol:n,amount:r,to:i})}))}catch(e){return N.Z.info("ETH -> Error",e),[]}}personalSignKeyStore(e,t,r,n){return ue(this,null,(function*(){const a=yield this.ethereumKeystoreInit(t,r.keystore,n,r.walletIndex);(0,A.isHexString)(e)||(e=T.hexlify(k.Y0(e)));const o=T.arrayify(e);return a.signMessage(o)}))}personalSignHW(e,t,r,n){return ue(this,null,(function*(){(0,A.isHexString)(t)||(t=T.hexlify(k.Y0(t)));const a=yield(0,z.D)(e).signETHPersonalMessage(n.derivationPath,n.walletIndex,t),o=C.verifyMessage(T.arrayify(t),a);if(o.toLocaleLowerCase()!==r.toLocaleLowerCase())throw`Not matching sender address!: recovered: ${o}, in file: ${r}`;return a}))}approveDappTransaction(e,t,r,n){return ue(this,null,(function*(){var a,o,i,l,c,d;const{wallets:p}=B.Z.getState().wallets,f=p[t],g=e.raw;N.Z.info({msg:"ethereumApproveTx",jsonrpcpayload:g,walletId:t,_dappMessage:e,_overrides:n});let y=g.params.length?g.params[0]:g.params;n&&(y=Object.assign(y,n),y.nonce&&(y.nonce=`0x${new(u())(y.nonce).toString(16)}`));const m=y.gasPrice&&`0x${new(u())(y.gasPrice||"0").multipliedBy(1e9).toString(16)}`||void 0,v=y.maxPriorityFeePerGas&&`0x${new(u())(y.maxPriorityFeePerGas.toFixed(9)||"0").multipliedBy(1e9).toString(16)}`||void 0,w=y.maxFeePerGas&&`0x${new(u())(y.maxFeePerGas.toFixed(9)||"0").multipliedBy(1e9).toString(16)}`||void 0,x=`0x${new(u())(y.gasLimit||y.gas||"0").toString(16)}`,S=this.masterController.chains.getChainControllerById(e.chainId),C=S.getConfig("network.defaultRpc"),P={chainId:e.chainId?null==(o=null==(a=(0,h.o6)(Number(S.getConfig().network.chainId),C))?void 0:a.ethereumProvider)?void 0:o.chainId:void 0,from:y.from&&_.getAddress(y.from),gasPrice:m,gasLimit:x,to:y.to&&_.getAddress(y.to)||void 0,value:y.value,nonce:y.nonce,data:y.data};let Z;switch(y.maxFeePerGas&&(P.gasPrice=void 0,P.type=2,P.maxFeePerGas=w,P.maxPriorityFeePerGas=v),N.Z.debug({txInput:y,_dappMessage:e}),f.walletInfo.type){case F.WalletType.Keystore:case F.WalletType.PkKeystore:if(!r)throw"approveDappTransaction: you must specify walletCredentials";if(f.walletInfo.type===F.WalletType.Keystore){const e=f.walletInfo.data;Z=yield this.ethereumKeystoreInit(y.from,e.keystore,null==r?void 0:r.walletPassword,e.walletIndex)}else{if(f.walletInfo.type!==F.WalletType.PkKeystore)throw"Not implemented";{const e=f.walletInfo.data,t=r.walletPassword;N.Z.info({walletData:e});const n=yield(0,J.Jy)(e.keystore,t),a=J.Si.fromString(n);Z=this.initClientWithPrivateKey(a.nspk.value.pk)}}switch(g.method){case"eth_sendTransaction":return N.Z.info("sendTransaction checksumed ",P),Z.sendTransaction(P).then((e=>ue(this,null,(function*(){try{yield this.addPendingTransaction(this.buildCustomTxMeta(e,P.from,P.to,null==P?void 0:P.value))}catch(e){N.Z.error({e})}return e.hash}))));case"eth_sign":{const e=(0,K.toBuffer)(y.data),t=(0,K.toBuffer)(Z.privateKey),r=(0,K.ecsign)(e,t);return(0,M.dk)(r)}case"personal_sign":{(0,A.isHexString)(y.data)||(y.data=T.hexlify(k.Y0(y.data)));const e=T.arrayify(y.data);return Z.signMessage(e)}case"eth_signTypedData":case"eth_signTypedData_v2":case"eth_signTypedData_v3":case"eth_signTypedData_v4":{const e=(0,E.isString)(y.data)?JSON.parse(y.data):y.data;if("V3"===y.version||"V4"===y.version)if(null==(i=e.domain)?void 0:i.chainId){if(Number(e.domain.chainId)!==Number(P.chainId))throw"Chain ID provided in the message doesn't match your current chain ID"}else e.domain.chainId=P.chainId;return(0,b.signTypedMessage)(Buffer.from(Z.privateKey.substring(2),"hex"),{data:e},y.version)}case"eth_signTransaction":return Z.signTransaction(P);default:throw s.Tb(`Message type not supported for ethereum: ${g.method}`),`Message type not supported: ${g.method}`}case F.WalletType.Ledger:case F.WalletType.Trezor:{let e,t,r;Z=this.initClient();const n={to:P.to,chainId:P.chainId,gasPrice:P.gasPrice,gasLimit:P.gasLimit,value:P.value,nonce:Number(P.nonce),data:P.data};y.maxFeePerGas&&(n.gasPrice=void 0,n.maxFeePerGas=w,n.type=2,n.maxPriorityFeePerGas=v);const a=f.walletInfo.data;switch(g.method){case"eth_sendTransaction":if(N.Z.info("sendTransaction checksumed ",n),e=yield(0,z.D)(f.walletInfo.type).signEVMTransaction(a.derivationPath,a.walletIndex,n),t=I.serialize(n,e),N.Z.info({signedTx:t}),r=I.parse(t),(null==(l=r.from)?void 0:l.toLocaleLowerCase())!==a.address.toLocaleLowerCase())throw`Not matching sender address!: recovered: ${r.from}, in file: ${a.address}`;return Z.provider.sendTransaction(t).then((e=>ue(this,null,(function*(){try{yield this.addPendingTransaction(this.buildCustomTxMeta(e,P.from,P.to,null==P?void 0:P.value))}catch(e){N.Z.error({e})}return e.hash}))));case"personal_sign":case"eth_sign":{(0,A.isHexString)(y.data)||(y.data=T.hexlify(k.Y0(y.data)));const e=yield(0,z.D)(f.walletInfo.type).signETHPersonalMessage(a.derivationPath,a.walletIndex,y.data);if(y.from.toLocaleLowerCase()!==a.address.toLocaleLowerCase())throw`Not matching sender address!: recovered: ${y.from}, in file: ${a.address}`;return N.Z.debug({sig:e}),e}case"eth_signTypedData":case"eth_signTypedData_v2":case"eth_signTypedData_v3":case"eth_signTypedData_v4":if("V1"===y.version){const e=y.data;N.Z.info({data:e});return yield(0,z.D)(f.walletInfo.type).signEIP712MessageLegacy(a.derivationPath,a.walletIndex,e)}if("V3"===y.version||"V4"===y.version){const e=JSON.parse(y.data);if(null==(c=e.domain)?void 0:c.chainId){if(Number(e.domain.chainId)!==Number(P.chainId))throw"Chain ID provided in the message doesn't match your current chain ID"}else e.domain.chainId=P.chainId;N.Z.debug({parsed:e});const t=yield(0,z.D)(f.walletInfo.type).signEIP712Message(a.derivationPath,a.walletIndex,e,"V4"===y.version);return N.Z.debug({sig:t}),t}throw`approveDappTransaction not able to sign provided message using wallet ${f.walletInfo.type}`;case"eth_signTransaction":if(e=yield(0,z.D)(f.walletInfo.type).signEVMTransaction(a.derivationPath,a.walletIndex,n),t=I.serialize(n,e),N.Z.info({signedTx:t}),r=I.parse(t),(null==(d=r.from)?void 0:d.toLocaleLowerCase())!==a.address.toLocaleLowerCase())throw`Not matching sender address!: recovered: ${r.from}, in file: ${a.address}`;return t;default:throw s.Tb(`Message type not supported for ethereum: ${g.method}`),`Message type not supported: ${g.method}`}}default:throw`approveDappTransaction not working for wallet of type ${f.walletInfo.type}`}}))}validateTx(e){const t={};return""===e?t.toAddress="Address is required":this.validateAddress(e)||(t.toAddress="Address is not valid."),t}getWallet(e){const{wallets:t}=B.Z.getState().wallets;return t[e]}sendTx(e,t,r,n=!1){return ue(this,null,(function*(){var o;const{wallets:s}=B.Z.getState().wallets,i=s[t],l=w.O$.from(`0x${new(u())(e.gasLimit).toString(16)}`),c=e.gasPrice&&w.O$.from(`0x${new(u())(Number(e.gasPrice).toFixed(9)).multipliedBy(1e9).toString(16)}`),d=e.maxFeePerGas?w.O$.from(`0x${new(u())(e.maxFeePerGas.toFixed(9)).multipliedBy(1e9).toString(16)}`):void 0,p={maxPriorityFeePerGas:e.maxPriorityFeePerGas?w.O$.from(`0x${new(u())(e.maxPriorityFeePerGas.toFixed(9)).multipliedBy(1e9).toString(16)}`):void 0,maxFeePerGas:d,gasPrice:c,gasLimit:l,nonce:w.O$.from(e.nonce).toNumber()},h=this.initClient(f.Z.get("EXAMPLE_BIP39"));let g="";switch(i.walletInfo.type){case F.WalletType.Keystore:{if(!r)throw`Missing credentials for wallet ${t}`;const a=i.walletInfo.data,o=r.walletPassword,s=yield this.ethereumKeystoreInit(e.fromAddress,a.keystore,o,a.walletIndex),l=yield this.prePareUnsignedTx(e,p,n);g=yield s.signTransaction(l);break}case F.WalletType.Ledger:case F.WalletType.Trezor:const a=i.walletInfo.data,s=yield this.prePareUnsignedTx(e,p,n);g=yield this.signWithHW(i.walletInfo.type,s,a);const l=I.parse(g);if((null==(o=l.from)?void 0:o.toLocaleLowerCase())!==a.address.toLocaleLowerCase())throw`Not matching sender address!: recovered: ${l.from}, in file: ${a.address}`;break;case F.WalletType.PkKeystore:{if(!r)throw`Missing credentials for wallet ${t}`;const a=i.walletInfo.data,o=r.walletPassword,s=yield(0,J.Jy)(a.keystore,o),l=J.Si.fromString(s),c=this.initClientWithPrivateKey(l.nspk.value.pk),d=yield this.prePareUnsignedTx(e,p,n);g=yield c.signTransaction(d);break}default:throw`sendTx not supported for wallet of type ${i.walletInfo.type}`}return N.Z.info({signedTx:g}),h.provider.sendTransaction(g).then((t=>ue(this,null,(function*(){N.Z.info({res:t});try{yield this.addPendingTransaction(this.buildCustomTxMeta(ce(le({},t),{contractAddress:null==e?void 0:e.address,decimals:null==e?void 0:e.decimals}),e.fromAddress,e.toAddress,a.parseUnits(e.amount.toString(),String(e.decimals))))}catch(e){N.Z.error({msg:"failed to add to pending list",e})}return t.hash}))))}))}signWithHW(e,t,r){return ue(this,null,(function*(){const n=yield(0,z.D)(e).signEVMTransaction(r.derivationPath,r.walletIndex,t),a={v:w.O$.from(n.v).toNumber(),r:(0,A.hexlify)(n.r),s:(0,A.hexlify)(n.s)};return I.serialize(t,a)}))}getFeeData(e){return ue(this,null,(function*(){const e=this.provider;return yield e.getFeeData()}))}getFeeHistory(){return ue(this,null,(function*(){var e;const t=`${f.Z.get("BLOCK_HISTORY")}`;return(0,R.Io)(t+(null==(e=g.g5.Mainnet)?void 0:e.toUpperCase())).then((e=>e.value))}))}getTransactions(){return ue(this,null,(function*(){try{switch(M.hv[this.config.network.chainId]){case g.yp.Aurora:yield this.getAuroraTransactions();break;case g.yp.CantoEvm:yield this.getCantoTransactions();break;case g.yp.Klaytn:yield this.getKlaytnTransactions();break;default:yield this.getEvmEtherscanTransactions()}}catch(e){throw e}}))}getEvmEtherscanTransactions(){return ue(this,null,(function*(){var e,t,r;const{activeWalletId:n,wallets:a}=B.Z.getState().wallets;let o=(yield(0,p.f1)(n,this.config.id)).blockNumber;o||(o=0);const s=null==(r=null==(t=null==(e=null==a?void 0:a[n])?void 0:e.chainData)?void 0:t[this.config.id])?void 0:r.address;try{if(s){const e=yield this.provider.getBlockNumber();if(e===o)return;const t=this.getConfig().network.explorer;t&&(yield this.parseAndSaveEVMTransactions(t,s,o,this.config.id,n,e))}}catch(e){throw e}}))}getContract(e,t){const r=this.initClient(f.Z.get("EXAMPLE_BIP39"));switch(t){case g.Yn.Erc20:return new P.CH(e,m,r.provider);case g.Yn.Erc721:return new P.CH(e,v,r.provider);case g.Yn.Erc1155:return new P.CH(e,y,r.provider);default:throw Error((0,W.t)("app:controller_errors.contract_abi_not_found",{address:e,tokenStandard:t}))}}getCustomRPCs(){return ue(this,null,(function*(){try{const e=f.Z.get("EVM_REGISTRY_URL");return c().get(e).then((e=>e.data.map((e=>{var t,r,n,a,o,s,i,l,c,d;const u=(0,U.Ot)(q.J.Evm,e.chainId),p=[q.B.Ledger,q.B.Trezor,q.B.CustomToken];(null==(t=null==e?void 0:e.features)?void 0:t.find((e=>"EIP1559"===(null==e?void 0:e.name))))&&p.push(q.B.Eip1559);const h=null==(n=null==(r=e.explorers)?void 0:r[0])?void 0:n.url;return{id:u,type:q.J.Evm,shortName:null!=(o=null!=(a=e.shortName)?a:e.chain)?o:e.name,longName:e.name,chainSymbol:e.nativeCurrency.symbol,tokenSymbol:e.nativeCurrency.symbol,image:e.icon&&(0,M.bg)(e.icon)||"",fallbackImage:this.getConfig().fallbackImage,decimals:null!=(s=e.nativeCurrency.decimals)?s:18,derivationPath:this.config.derivationPath,features:p,privateKey:this.config.privateKey,network:{explorer:h||void 0,transaction:h?`${null==(l=null==(i=e.explorers)?void 0:i[0])?void 0:l.url}/tx/`:void 0,address:h?`${null==(d=null==(c=e.explorers)?void 0:c[0])?void 0:d.url}/address/`:void 0,defaultRpc:{rpc:e.rpc.length?e.rpc[0]:f.Z.get("JSONRPC_ETH_MAINNET")},chainId:e.chainId,jsonRpcProviderUrl:{rpc:e.rpc.length?e.rpc[0]:f.Z.get("JSONRPC_ETH_MAINNET")},multicallContractAddress:void 0,tokenApproveChecker:f.Z.get("REVOKE_CASH_URL")}}}))))}catch(e){return N.Z.error("Error while getting custom EVMs",{error:e}),[]}}))}getCustomChainConfigByChainId(e){return ue(this,null,(function*(){try{return(yield this.getCustomRPCs()).find((t=>t.network.chainId.toString()===e))}catch(e){throw N.Z.error("Error while getting custom EVMs",{error:e}),e}}))}getFees(){return ue(this,null,(function*(){throw"getFees not implemented for EVM"}))}getDefaultTokens(){return this.config.network.chainId===X.m1.Ethereum?[{symbol:"USDC",address:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48"},{symbol:"XDEFI",address:"0x72b886d09c117654ab7da13a14d603001de0b777"}]:[]}});let ye=ge;de(ye,"methodToSignScreen",["personal_sign","eth_sign","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4"]),de(ye,"gasLimitValidator",(e=>new(u())(e).toNumber()>=1.5*f.Z.get("DEFAULT_GAS_LIMIT"))),de(ye,"getABI",(e=>fetch(`${f.Z.get("PROXYSCAN_API_HOST")}/${f.Z.get("ETHERSCAN_BASEURL_MAINNET")}/api?module=contract&action=getsourcecode&address=${e}`).then((e=>e.json())))),de(ye,"getSignatures",(e=>fetch(`${f.Z.get("BYTE_DIRECTORY_HOST")}/api/v1/signatures/?hex_signature=${e}`).then((e=>e.json())))),de(ye,"paramToString",((e,t)=>{switch(t){case"address":return e;case"uint256":return e.toString();case"address[]":return e.join("\n");default:return String(e)}})),de(ye,"decryptParams",((e,t,r)=>{var n,a;const o=(null==e?void 0:e.textSignature)||"",s=(null==o?void 0:o.split("(")[0])||"",i=((null==(n=null==o?void 0:o.split("(")[1])?void 0:n.split(")")[0])||"").split(","),l=(null==(a=null==t?void 0:t.filter((e=>e.name===s))[0])?void 0:a.inputs)||[];N.Z.info("abi inputs ===> ",l);let c=[];try{c=Z.$.decode(i,T.hexDataSlice(r.data,4))}catch(e){N.Z.error({e})}return N.Z.info("decoded ===> ",c),{type:s,params:c.map(((e,t)=>{var r;return{uid:t,name:(null==(r=l[t])?void 0:r.name)||"",type:i[t],data:ge.paramToString(e,i[t])}}))}})),n()}catch(e){n(e)}}))},7524:(e,t,r)=>{r.d(t,{$:()=>c});var n=r(855835),a=r(450780),o=r.n(a),Buffer=r(348764).Buffer,s=Object.defineProperty,i=(e,t,r)=>(((e,t,r)=>{t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r})(e,"symbol"!=typeof t?t+"":t,r),r);class l{constructor(e){i(this,"pubKey"),this.pubKey=e}getAddress(){return n.createHash("sha256").update(this.pubKey).digest().subarray(0,20)}verify(e){return null!==o().sign.open(new Uint8Array(e),new Uint8Array(this.pubKey))}toBuffer(){return Buffer.from(this.pubKey)}toBase64(){return this.pubKey.toString("base64")}toJSONInCodec(){return this.toBase64()}static fromBase64(e){const t=Buffer.from(e,"base64");return new l(t)}static fromJSON(e){return l.fromBase64(e)}}class c{constructor(e){i(this,"pubKey"),i(this,"privKey");const t=o().sign.keyPair.fromSeed(new Uint8Array(e));this.pubKey=new l(Buffer.from(t.publicKey)),this.privKey=e}getPubKey(){return this.pubKey}sign(e){const t=o().sign.keyPair.fromSeed(new Uint8Array(this.privKey));return Buffer.from(o().sign(new Uint8Array(e),new Uint8Array(t.secretKey)))}toBuffer(){return Buffer.from(this.privKey)}toBase64(){return this.privKey.toString("base64")}toJSONInCodec(){return this.toBase64()}static fromBase64(e){const t=Buffer.from(e,"base64");return new c(t)}static fromJSON(e){return c.fromBase64(e)}}},721892:(e,t,r)=>{r.d(t,{Z:()=>K});var n=r(379562),a=r(778121),o=r(822485),s=r(651298),i=r(774677),l=r(731241),c=r(875039),d=r(59917),u=r(871190),p=r.n(u),h=r(661820),f=r(679742),g=r(617656),y=r(592479),m=r(939165),v=r(953518),b=r(327194),w=r(879821),x=r(968447),S=r(208004),C=r(117221),T=r(739989),P=r(369943),_=r(605930),k=r(256371),I=r(46461),Z=r(684448),A=r(691438),j=r(99127),E=r(995920),Buffer=r(348764).Buffer,O=Object.defineProperty,D=Object.defineProperties,$=Object.getOwnPropertyDescriptors,N=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable,F=(e,t,r)=>t in e?O(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,R=(e,t,r)=>new Promise(((n,a)=>{var o=e=>{try{i(r.next(e))}catch(e){a(e)}},s=e=>{try{i(r.throw(e))}catch(e){a(e)}},i=e=>e.done?n(e.value):Promise.resolve(e.value).then(o,s);i((r=r.apply(e,t)).next())}));const L="44'/60'/0'/0/X";class K extends E.Z{constructor(){var e;super(...arguments),F(this,"symbol"!=typeof(e="checkETHAppVersion")?e+"":e,(e=>R(this,null,(function*(){const{version:t}=yield e.getAppConfiguration();if(!(0,_.RP)(t,"1.9.6"))throw(0,I.t)("app:controller_errors.ledger.please_upgrade_ethereum_on_ledger")}))))}getChainTypes(){return Object.values(A.J)}getEIP1024PublicEncryptionKey(e){return R(this,arguments,(function*(e,t=L){const r=this.getDerivationPathWithOffset(t,e),n=yield c.Z.create();try{const e=new i.Z(n);yield this.checkETHAppVersion(e);const t=yield e.getEIP1024PublicEncryptionKey(r);return T.Z.debug({res:t}),t.publicKey}catch(e){throw T.Z.debug({err:e}),e}finally{n.close()}}))}getEIP1024SharedSecret(e,t,r="44'/60'/0'/0/X"){return R(this,null,(function*(){const n=r.replace("X",t.toString()),a=yield c.Z.create();try{const t=new i.Z(a);yield this.checkETHAppVersion(t);const r=yield t.getEIP1024SharedSecret(n,e);return T.Z.debug({res:r}),r.sharedSecret}catch(e){throw T.Z.debug({err:e}),e}finally{a.close()}}))}getEVMAddresses(e){return R(this,arguments,(function*(e,t=0,r=5,n){const a=n||L;let o;try{o=yield c.Z.create();const n=new i.Z(o),s=e.getConfig().tokenSymbol,l=yield n.getAddress(a.replace("X","0")),d=(0,j.Zy)(e.getType(),a,l.address),u=[];for(let o=t;o<t+r;o++){const t=a.replace("X",o.toString());try{const r=yield n.getAddress(t);u.push({id:`${s}-${t}`,derivation:a,address:r.address,publicKey:r.publicKey,testnetDerivation:a,testnetAddress:r.address,testnetPublicKey:r.publicKey,label:`Account ${o}`,balance:"0",fiatBalance:"0",selected:!1,chainId:e.getId(),walletIndex:o,rootWalletId:d})}catch(e){T.Z.error(`Error: on getting adddress from path ${t}`,e)}}return u}catch(e){throw T.Z.debug({err:e}),e}finally{o.close()}}))}static getFantomAddress(e,t=0,r){return R(this,null,(function*(){const n=yield this.getFantomAddresses(e,t,1,r);if(n.length)return n[0];throw(0,I.t)("app:controller_errors.no_account_found")}))}static getFantomAddresses(e){return R(this,arguments,(function*(e,t=0,r=5,n){let a;const o=[];try{a=yield c.Z.create();const s=new Z.ZP(a),i=yield s.listAddresses(t,t,r);if(i.length>0)for(let r=0;r<i.length;r++){const a=i[r],l=r+t,c=n||L,d=c.replace("X",l.toString()),u=yield s.getPublicKey(l);u&&o.push({id:`fantom-${d}-${l}`,derivation:c,address:a,publicKey:m.hexlify(u.publicKey),testnetDerivation:c,testnetAddress:a,testnetPublicKey:m.hexlify(u.publicKey),label:`Account ${l}`,balance:"0",fiatBalance:"0",selected:!1,chainId:e.getId(),walletIndex:l})}return T.Z.debug({results:o}),o}catch(e){throw T.Z.debug({err:e}),e}finally{a.close()}}))}signEVMTransaction(e,t,r){return R(this,null,(function*(){const n=v.serialize(r).substring(2),a=e.replace("X",t.toString()),o=yield c.Z.create();try{const e=new i.Z(o);yield this.checkETHAppVersion(e);const t=yield e.signTransaction(a,n);return T.Z.debug({sig:t}),{v:b.O$.from("0x"+t.v).toNumber(),r:"0x"+t.r,s:"0x"+t.s}}catch(e){throw T.Z.debug({err:e}),e}finally{o.close()}}))}rejectTransaction(){return R(this,null,(function*(){const e=yield c.Z.openConnected();try{const t=new i.Z(e);yield this.checkETHAppVersion(t).then((e=>T.Z.info("then",e))).catch((e=>T.Z.info("catch",e))),yield t.signTransaction("","")}catch(e){throw T.Z.info("🚀 ~ file: LedgerController.ts:396 ~ LedgerController ~ rejectTransaction ~ err",e),e}finally{e.close()}}))}signETHPersonalMessage(e,t,r){return R(this,null,(function*(){T.Z.info({derivPath:e,msgHash:r});const n=e.replace("X",t.toString()),a=yield c.Z.create();try{const e=new i.Z(a),t=r.startsWith("0x")?r.substring(2):r,o=yield e.signPersonalMessage(n,t);T.Z.info({result:o});const s={v:b.O$.from("0x"+o.v).toNumber(),r:"0x"+o.r,s:"0x"+o.s};return m.joinSignature(s)}catch(e){throw T.Z.debug({err:e}),e}finally{a.close()}}))}signEIP712MessageLegacy(e,t,r){return R(this,null,(function*(){const n=(0,P.e)(r);return this.signETHPersonalMessage(e,t,n)}))}signEIP712Message(e,t,r,n=!0){return R(this,null,(function*(){const{message:a,domain:o}=(0,P.M)(r,n);return this.signEIP712HashedMessage(e,t,o.toString("hex"),a.toString("hex"))}))}signEIP712HashedMessage(e,t,r,n){return R(this,null,(function*(){T.Z.info({derivPath:e,domainSeparatorHex:r,hashStructMessageHex:n});const a=e.replace("X",t.toString()),o=yield c.Z.create();try{const e=new i.Z(o);let t=yield e.signEIP712HashedMessage(a,r,n);return s=((e,t)=>{for(var r in t||(t={}))M.call(t,r)&&F(e,r,t[r]);if(N)for(var r of N(t))B.call(t,r)&&F(e,r,t[r]);return e})({},t),l={r:"0x"===t.r.substring(0,2)?t.r:"0x"+t.r,s:"0x"===t.s.substring(0,2)?t.s:"0x"+t.s},t=D(s,$(l)),T.Z.debug({res:t}),(0,k.joinSignature)(t)}catch(e){throw T.Z.debug({err:e}),e}finally{o.close()}var s,l}))}static signAVAXTransaction(e,t,r){return R(this,null,(function*(){const n=e.replace("X",t.toString()),a=yield c.Z.create();try{const e=new i.Z(a),t=yield e.signTransaction(`m/${n}`,r);return T.Z.debug({res:t}),t}catch(e){throw T.Z.debug({err:e}),e}finally{a.close()}}))}signFantomTransaction(e,t){return R(this,null,(function*(){const r=w.yl(),n=new y.Z(r,e);try{const e=yield n.signTransaction(t);return T.Z.debug({res:e}),e}catch(e){throw T.Z.debug({err:e}),e}finally{yield n.closeTransport()}}))}getTHORChainAddresses(e){return R(this,arguments,(function*(e,t=0,r=5,n){const a=yield c.Z.create();try{const o=new h.ZP(a),s=n||"44'/931'/0'/0/X",i=yield o.getAddressAndPubKey(s.replace("X","0").replaceAll("'","").split("/").map((e=>Number(e))),"tthor"),l=(0,j.Zy)(e.getType(),s,i.bech32Address),c=[];for(let n=t;n<t+r;n++){const t=s.replace("X",n.toString()),r=t.replace("'","").split("/").map((e=>parseInt(e,10))),a=yield o.getAddressAndPubKey(r,"tthor"),i=yield o.getAddressAndPubKey(r,"thor");T.Z.info({testnetRes:a,mainnetRes:i});const d=[a,i].find((e=>"No errors"!==e.errorMessage));if(d)throw`Error [${d.returnCode}] ${d.errorMessage}`;c.push({id:`thor-${t}`,derivation:s,address:i.bech32Address,publicKey:i.compressedPk.toString("base64"),testnetDerivation:s,testnetAddress:a.bech32Address,testnetPublicKey:a.compressedPk.toString("base64"),label:`Account ${n}`,balance:"0",fiatBalance:"0",selected:!1,chainId:e.getId(),walletIndex:n,rootWalletId:l})}return T.Z.debug({results:c}),c}catch(e){throw T.Z.debug({err:e}),e}finally{a.close()}}))}signTHORTransaction(e,t,r){return R(this,null,(function*(){const n=e.replace("X",t.toString()).replace("'","").split("/").map((e=>parseInt(e,10)));T.Z.info({derivPath:e,currentPathArr:n,rawTxHex:r});const a=yield c.Z.create();try{const e=new h.ZP(a),t=yield e.sign(n,r);return T.Z.debug({res:t}),this.getNormalizedSignature(t.signature)}catch(e){throw T.Z.debug({err:e}),e}finally{a.close()}}))}getUTXOAddresses(e,t,r,n){if(e.getType()===A.J.Bitcoin)return this.getBtcAddresses(e.selfCast(),t,r,n);throw(0,I.t)("app:controller_errors.not_supported_chain_type",{chainType:e.getType()})}signUTXOTransaction(e,t,r,n){if(e.getType()===A.J.Bitcoin)return this.signBtcTransaction(e,t,r,n);throw(0,I.t)("app:controller_errors.not_supported_chain_type",{chainType:e.getType()})}getBtcAddresses(e){return R(this,arguments,(function*(e,t=0,r=5,n){var a,s,i,l;const d=n||"84'/0'/0'/0/X",u=yield c.Z.create(),p=null!=(i=null==(s=null==(a=e.getConfig().derivationPath)?void 0:a.find((e=>e.value===d)))?void 0:s.format)?i:"bech32";try{const n=new o.Z({transport:u,currency:null==(l=e.getType())?void 0:l.toLowerCase()}),a=yield n.getWalletPublicKey(d.replace("X","0"),{format:p}),s=(0,j.Zy)(e.getType(),d,a.bitcoinAddress),i=[];for(let a=t;a<t+r;a++){const t=d.replace("X",a.toString()),r=yield n.getWalletPublicKey(t,{format:p});T.Z.info({res:r}),i.push({id:`btc-${t}`,derivation:d,address:r.bitcoinAddress,publicKey:r.publicKey,testnetDerivation:d,testnetPublicKey:r.publicKey,testnetAddress:r.bitcoinAddress,label:`Account ${a}`,balance:"0",fiatBalance:"0",selected:!1,chainId:e.getId(),walletIndex:a,rootWalletId:s})}return T.Z.debug({results:i}),i}catch(e){throw T.Z.debug({err:e}),e}finally{u.close()}}))}signBtcTransaction(e,t,r,n){return R(this,null,(function*(){var a,s,i,l;T.Z.debug({function:"signBtcTransaction",derivPath:t,walletIndex:r,tx:n});const d=yield c.Z.create(),u=new o.Z({transport:d,currency:null==(a=A.J.Bitcoin)?void 0:a.toLowerCase()});try{const a=[],o=n.inputs.map((e=>{const n=t.replace("X",r.toString());a.push(n);const o=g.YW.fromHex(e.txHex);return[u.splitTransaction(e.txHex,o.hasWitnesses()),e.index,null,null]})),c=n.psbt.data.globalMap.unsignedTx.toBuffer().toString("hex"),d=u.splitTransaction(c,!0),p=u.serializeTransactionOutputs(d).toString("hex"),h=null!=(l=null==(i=null==(s=e.getConfig().derivationPath)?void 0:s.find((e=>e.value===t)))?void 0:i.format)?l:"bech32",f={inputs:o,associatedKeysets:a,outputScriptHex:p,additionals:(e=>{switch(e){case"bech32":case"bech32m":return[e];case"p2sh":case"legacy":return[];default:throw(0,I.t)("app:controller_errors.unkwon_derivation_path_format")}})(h),segwit:"legacy"!==h,useTrustedInputForSegwit:!0};T.Z.debug({params:f});return yield u.createPaymentTransaction(f)}catch(e){throw T.Z.debug({err:e}),e}finally{d.close()}}))}getTerraAddresses(e){return R(this,arguments,(function*(e,t=0,r=5,n){let a;try{a=yield c.Z.create();const o=new(p())(a),s=yield o.initialize();try{this.checkLedgerErrors("Terra",s)}catch(e){console.log(e)}const i=n||"44'/330'/0'/0/X",l=yield o.getAddressAndPubKey(i.replace("X","0").replaceAll("'","").split("/").map((e=>Number(e))),"terra"),d=(0,j.Zy)(e.getType(),i,l.bech32_address),u=[];for(let n=t;n<t+r;n++){const t=i.replace("X",n.toString());try{const r=t.replace("'","").split("/").map((e=>parseInt(e,10))),a=yield o.getAddressAndPubKey(r,"terra");this.checkLedgerErrors("Terra",a),u.push({id:`terra-${t}`,derivation:i,address:a.bech32_address,publicKey:Buffer.from(a.compressed_pk).toString("base64"),testnetDerivation:i,testnetAddress:a.bech32_address,testnetPublicKey:Buffer.from(a.compressed_pk).toString("base64"),label:`Account ${n}`,balance:"0",fiatBalance:"0",selected:!1,chainId:e.getId(),walletIndex:n,rootWalletId:d})}catch(e){console.error(`Error: on getting address from path ${t}`,e)}}return T.Z.debug({results:u}),u}catch(e){throw T.Z.debug({err:e}),e}finally{a.close()}}))}signTerraTransaction(e,t,r){return R(this,null,(function*(){const n=e.replace("X",t.toString()).replace("'","").split("/").map((e=>parseInt(e,10)));T.Z.info({derivPath:e,currentPathArr:n,message:r});const a=yield c.Z.create();try{const e=new(p())(a),t=yield e.initialize();this.checkLedgerErrors("Terra",t);const o=yield e.sign(n,r.toString());return this.checkLedgerErrors("Terra",o),Buffer.from((0,C.signatureImport)(Buffer.from(o.signature)))}catch(e){throw T.Z.debug({err:e}),e}finally{a.close()}}))}getNearAddresses(e){return R(this,arguments,(function*(e,t=0,r=5,n){let a;try{a=yield c.Z.create();const o=yield(0,S.eI)(a),s=n||"44'/397'/0'/0'/X'",i=yield o.getPublicKey(s.replace("X","0")),l=Buffer.from(i).toString("hex"),d=(0,j.Zy)(e.getType(),s,l),u=[];for(let n=t;n<t+r;n++){const t=s.replace("X",n.toString());try{const r=yield o.getPublicKey(t),a=Buffer.from(r).toString("hex"),i=new x.utils.PublicKey({keyType:x.utils.key_pair.KeyType.ED25519,data:r});u.push({id:`near-${t}`,derivation:s,address:a,publicKey:i.toString(),testnetDerivation:s,testnetAddress:a,testnetPublicKey:i.toString(),label:`Account ${n}`,balance:"0",fiatBalance:"0",selected:!1,chainId:e.getId(),walletIndex:n,rootWalletId:d})}catch(e){console.error(`Error: on getting address from path ${t}`,e)}}return T.Z.debug({results:u}),u}catch(e){throw T.Z.debug({err:e}),e}finally{a.close()}}))}signNearTransaction(e,t,r){return R(this,null,(function*(){const n=e.replace("X",t.toString()),a=yield c.Z.create();try{const e=yield(0,S.eI)(a);return yield e.sign(r,n)}catch(e){throw T.Z.debug({err:e}),e}finally{a.close()}}))}solanaSignTransaction(e,t){return R(this,null,(function*(){const r=yield c.Z.create();try{const n=new l.Z(r);return(yield n.signTransaction(e,t)).signature}catch(e){throw T.Z.debug({err:e}),e}finally{r.close()}}))}getSolanaAddresses(e){return R(this,arguments,(function*(e,t=0,r=5,n){const a=yield c.Z.create();try{const o=new l.Z(a),s=n||"44'/501'/X'/0",i=yield o.getAddress(s.replace("X","0")),c=(0,j.Zy)(e.getType(),s,Buffer.from(i.address).toString("base64")),u=[];for(let n=t;n<t+r;n++){const t=s.replace("X",n.toString()),r=yield o.getAddress(t,!1);T.Z.info({mainnetRes:r});const a=new d.nh(r.address).toString();u.push({id:`solana-${t}`,derivation:s,address:a,publicKey:a,testnetDerivation:s,testnetAddress:a,testnetPublicKey:a,label:`Account ${n}`,balance:"0",fiatBalance:"0",selected:!1,chainId:e.getId(),walletIndex:n,rootWalletId:c})}return T.Z.debug({results:u}),u}catch(e){throw T.Z.debug({err:e}),e}finally{a.close()}}))}getNormalizedSignature(e){if(e.length<64)throw Error((0,I.t)("app:controller_errors.ledger.too_short"));if(48!==e[0])throw Error((0,I.t)("app:controller_errors.ledger.encoding_expected_first_byte"));if(e[1]+2!==e.length)throw Error((0,I.t)("app:controller_errors.ledger.length_does_not_match_tlv"));if(2!==e[2])throw Error((0,I.t)("app:controller_errors.ledger.expected_length_type"));const t=e[3];let r=e.slice(4,t+4);if(33===r.length&&0===r[0])r=r.slice(1,33);else if(33===r.length)throw Error((0,I.t)("app:controller_errors.ledger.r_too_long"));for(;r.length<32;)r.unshift(0);if(2!==e[t+4])throw Error((0,I.t)("app:controller_errors.ledger.expected_length_type"));if(4+t+2+e[t+5]!==e.length)throw Error((0,I.t)("app:controller_errors.ledger.byte_length_not_match_length"));let n=e.slice(t+6,e.length);if(33===n.length&&0===n[0])n=n.slice(1,33);else if(33===n.length)throw Error((0,I.t)("app:controller_errors.ledger.s_too_long"));for(;n.length<32;)n.unshift(0);if(32!==r.length||32!==n.length)throw Error((0,I.t)("app:controller_errors.ledger.must_be_32_bytes_each"));return(0,f.fromByteArray)(Buffer.concat([r,n]))}getCosmosAddresses(){return R(this,arguments,(function*(e=0,t=5,r,n="cosmos",a){const o=yield c.Z.create();try{const i=a||"44'/118'/X'/0/0",l=new s.Z(o),c=yield l.getAddress(i.replace("X","0"),n,!1),d=(0,j.Zy)(r.getType(),i,c.address),u=[];for(let a=e;a<e+t;a++){const e=i.replace("X",a.toString()),t=yield l.getAddress(e,n,!1);T.Z.debug({mainnetRes:t}),u.push({id:`${n}-${e}`,derivation:i,address:t.address,publicKey:t.publicKey,testnetDerivation:i,testnetAddress:t.address,testnetPublicKey:t.publicKey,label:`Account ${a}`,balance:"0",fiatBalance:"0",selected:!1,chainId:r.getId(),walletIndex:a,rootWalletId:d})}return T.Z.debug({results:u}),u}catch(e){throw T.Z.debug({err:e}),e}finally{o.close()}}))}cosmosSignTransaction(e,t,r,o){return R(this,null,(function*(){T.Z.debug({path:r,message:o});const s=yield c.Z.create();T.Z.debug("transport",s);try{const i=new a.IM(s,{testModeAllowed:!0,hdPaths:[(0,n.stringToPath)(`m/${r}`)],prefix:e}),l=yield i.signAmino(t,o),c=l.signature;if(T.Z.debug({res:l}),!c)throw"signCosmos failed: signature is empty";return Buffer.from(c.signature,"base64")}catch(e){throw T.Z.debug({err:e}),e}finally{s.close()}}))}getBinanceAddresses(e,t,r,n){throw"Method not implemented."}signBinanceTransaction(e,t){return R(this,null,(function*(){throw"Method not implemented."}))}checkLedgerErrors(e,t){if(t){if(t.device_locked)throw(0,I.t)("app:controller_errors.ledger.ledger_screen_saver");if(t.error_message.startsWith("TransportRaceCondition"))throw(0,I.t)("app:controller_errors.ledger.please_finish_previous_action");if(t.error_message.startsWith("DisconnectedDeviceDuringOperation"))throw(0,I.t)("app:controller_errors.ledger.open_the_app_in_your_ledger",{app:e});switch(t.error_message){case"U2F: Timeout":throw(0,I.t)("app:controller_errors.ledger.could_not_find_a_connected_ledger");case"App does not seem to be open":throw(0,I.t)("app:controller_errors.ledger.open_the_app_in_your_ledger",{app:e});case"Command not allowed":throw(0,I.t)("app:controller_errors.ledger.transaction_rejected");case"Transaction rejected":throw(0,I.t)("app:controller_errors.ledger.user_rejected_transaction");case"Unknown Status Code: 26628":throw(0,I.t)("app:controller_errors.ledger.ledger_screen_saver");case"Instruction not supported":throw(0,I.t)("app:controller_errors.ledger.please_check_your_ledger_is_latest_version",{app:e});case"No errors":break;default:throw t.error_message}}}hasPermission(){return R(this,null,(function*(){return(yield c.Z.list()).length>0}))}requestPermission(){return R(this,null,(function*(){try{return yield c.Z.request(),!0}catch(e){return!1}}))}}},473821:(e,t,r)=>{r.d(t,{Z:()=>x});var n=r(348764),a=r(848469),o=r.n(a),s=r(381449),i=r.n(s),l=r(878638),c=r(222751),d=r(327194),u=r(256371),p=r(739989),h=r(369943),f=r(46461),g=r(831352),y=r(617656),m=r(691438),v=r(99127),b=r(995920),w=(e,t,r)=>new Promise(((n,a)=>{var o=e=>{try{i(r.next(e))}catch(e){a(e)}},s=e=>{try{i(r.throw(e))}catch(e){a(e)}},i=e=>e.done?n(e.value):Promise.resolve(e.value).then(o,s);i((r=r.apply(e,t)).next())}));class x extends b.Z{constructor(){super(),this.init()}init(){return w(this,null,(function*(){try{yield i().init({debug:!1,env:"web",lazyLoad:!0,manifest:{email:"support@xdefi.io",appUrl:"https://www.xdefi.io/"}})}catch(e){p.Z.error("Failed to init trezor",e)}}))}getChainTypes(){return[m.J.Evm,m.J.Bitcoin,m.J.Litecoin,m.J.BitcoinCash,m.J.Dogecoin,m.J.Binance]}splitDerivationPath(e){const t=e.split("/").filter((e=>-1!==e.indexOf("'"))).join("/");return{basePath:t,accountPath:e.replace(`${t}/`,"")}}getEVMAddresses(e,t,r,n="44'/60'/0'/0/X"){return w(this,null,(function*(){const a=e.getConfig().tokenSymbol,o=[];t>0&&o.push({path:`m/${n.replace("X","0")}`,showOnTrezor:!1});for(let e=t;e<t+r;e++)o.push({path:`m/${n.replace("X",e.toString())}`,showOnTrezor:!1});const s=yield i().ethereumGetAddress({bundle:o});if(!s.success)return Promise.reject(s.payload.error);const l=(0,v.Zy)(e.getType(),n,s.payload[0].address);return s.payload.filter(((e,r)=>!(t>0&&0===r))).map(((r,o)=>{const s=o+t;return{id:`${a}-${r.serializedPath}`,derivation:n,address:r.address,publicKey:"",testnetDerivation:n,testnetPublicKey:"",testnetAddress:r.address,label:`Account ${s}`,balance:"0",fiatBalance:"0",selected:!1,chainId:e.getId(),walletIndex:s,rootWalletId:l}}))}))}getEIP1024PublicEncryptionKey(e,t){throw"Method not implemented."}getEIP1024SharedSecret(e,t,r){throw"Method not implemented."}hexlify(e){return e?(0,c.isHexString)(e)?e:(0,u.hexlify)(e):"0x0"}signEVMTransaction(e,t,r){return w(this,null,(function*(){const n=e.replace("X",t.toString()),a={to:r.to,value:this.hexlify(r.value),data:r.data?this.hexlify(r.data):void 0,chainId:r.chainId,nonce:this.hexlify(r.nonce),gasPrice:r.gasPrice?this.hexlify(r.gasPrice):void 0,gasLimit:this.hexlify(r.gasLimit)};r.maxFeePerGas&&r.maxPriorityFeePerGas?(a.maxFeePerGas=this.hexlify(r.maxFeePerGas),a.maxPriorityFeePerGas=this.hexlify(r.maxPriorityFeePerGas)):a.gasPrice=this.hexlify(r.gasPrice);const o=yield i().ethereumSignTransaction({path:`m/${n}`,transaction:a});return o.success?{v:d.O$.from(o.payload.v).toNumber(),r:o.payload.r,s:o.payload.s}:Promise.reject(o.payload.error)}))}signETHPersonalMessage(e,t,r){return w(this,null,(function*(){const n=e.replace("X",t.toString()),a=r.startsWith("0x")?r.substring(2):r,o=yield i().ethereumSignMessage({path:`m/${n}`,message:a,hex:!0});return o.success?"0x"+o.payload.signature:Promise.reject(o.payload.error)}))}signEIP712MessageLegacy(e,t,r){const n=(0,h.e)(r);return this.signETHPersonalMessage(e,t,n)}signEIP712Message(e,t,r,n){return w(this,null,(function*(){const a=e.replace("X",t.toString()),{message_hash:s,domain_separator_hash:l}=o()(r,!0),c=yield i().ethereumSignTypedData({path:`m/${a}`,metamask_v4_compat:n,data:r,message_hash:null!=s?s:void 0,domain_separator_hash:null!=l?l:void 0});return c.success?c.payload.signature:Promise.reject(c.payload.error)}))}signEIP712HashedMessage(e,t,r,n){throw"Method not implemented."}getTHORChainAddresses(e,t,r,n){throw"Method not implemented."}signTHORTransaction(e,t,r){throw"Method not implemented."}getUTXOAddresses(e,t,r,n){return w(this,null,(function*(){const a=e.getConfig().tokenSymbol,o=[];t>0&&o.push({path:`m/${n.replace("X","0")}`,showOnTrezor:!1});for(let a=t;a<t+r;a++){const t={path:`m/${n.replace("X",a.toString())}`,showOnTrezor:!1};e.getType()===m.J.Bitcoin&&e.selfCast().getConfig().network.activeNetwork===g.g5.Testnet&&(t.coin="Testnet"),o.push(t)}const s=yield i().getAddress({bundle:o});if(!s.success)return Promise.reject(s.payload.error);const l=(0,v.Zy)(e.getType(),n,s.payload[0].address);return s.payload.filter(((e,r)=>!(t>0&&0===r))).map(((r,o)=>{const s=o+t;return{id:`${a}-${r.serializedPath}`,derivation:n,address:r.address,publicKey:"",testnetDerivation:n,testnetPublicKey:"",testnetAddress:r.address,label:`Account ${s}`,balance:"0",fiatBalance:"0",selected:!1,chainId:e.getId(),walletIndex:s,rootWalletId:l}}))}))}signUTXOTransaction(e,t,r,a){return w(this,null,(function*(){let o=e.getConfig().tokenSymbol;e.getType()===m.J.Bitcoin&&e.selfCast().getConfig().network.activeNetwork===g.g5.Testnet&&(o="Testnet");const s=`m/${t}`.replace("X",r.toString()),c=a.inputs.map((e=>{var t;const r=y.YW.fromHex(null!=(t=e.txHex)?t:e.tx_hex);return{hash:e.hash,version:r.version,inputs:r.ins.map((e=>({prev_hash:e.hash.reverse().toString("hex"),prev_index:e.index,script_sig:e.script.toString("hex"),sequence:e.sequence}))),bin_outputs:r.outs.map((e=>({amount:e.value,script_pubkey:e.script.toString("hex")}))),lock_time:r.locktime}})),d={inputs:a.inputs.map((e=>{const t=(0,l.o$)(s),r=(0,l._0)(t);return{prev_index:e.index,prev_hash:e.hash,amount:e.value.toString(),address_n:t,script_type:r}})),outputs:a.outputs.map((e=>{var t;if(0===e.value){let r=e.script.toString("hex");if("6a"===r.substr(0,2)){r=r.substr(2);const e=y._v.decompile(n.Buffer.from(r,"hex")),a=null==(t=null==e?void 0:e[0])?void 0:t.toString("utf8"),o=n.Buffer.from(a,"utf8");r=y._v.compile(o).toString("hex")}return{script_type:"PAYTOOPRETURN",op_return_data:r,amount:e.value.toString()}}if(void 0===e.address)throw(0,f.t)("app:controller_errors.trezor.missing_output_address");return{script_type:"PAYTOADDRESS",address:e.address,amount:e.value.toString()}})),refTxs:c,coin:o},u=yield i().signTransaction(d);return u.success?u.payload.serializedTx:Promise.reject(u.payload.error)}))}getTerraAddresses(e,t,r,n,a){throw"Method not implemented."}signTerraTransaction(e,t,r){throw"Method not implemented."}getNearAddresses(e,t,r,n){throw"Method not implemented."}signNearTransaction(e,t,r){throw"Method not implemented."}getSolanaAddresses(e,t,r,n){throw"Method not implemented."}solanaSignTransaction(e,t){throw"Method not implemented."}getCosmosAddresses(e,t,r,n,a){throw"Method not implemented."}cosmosSignTransaction(e,t,r,n){throw"Method not implemented."}signFantomTransaction(e,t){throw"Method not implemented."}getBinanceAddresses(e,t,r,n){return w(this,null,(function*(){const a=e.getConfig().tokenSymbol,o=[];t>0&&o.push({path:`m/${n.replace("X","0")}`,showOnTrezor:!1});for(let e=t;e<t+r;e++)o.push({path:`m/${n.replace("X",e.toString())}`,showOnTrezor:!1});const s=yield i().binanceGetAddress({bundle:o});if(!s.success)return Promise.reject(s.payload.error);const l=(0,v.Zy)(e.getType(),n,s.payload[0].address);return s.payload.filter(((e,r)=>!(t>0&&0===r))).map(((r,o)=>{const s=o+t;return{id:`${a}-${r.serializedPath}`,derivation:n,address:r.address,publicKey:"",testnetDerivation:n,testnetPublicKey:"",testnetAddress:r.address,label:`Account ${s}`,balance:"0",fiatBalance:"0",selected:!1,chainId:e.getId(),walletIndex:s,rootWalletId:l}}))}))}signBinanceTransaction(e,t){return w(this,null,(function*(){throw"Method not implemented."}))}}},459457:(e,t,r)=>{r.d(t,{Lp:()=>x});var n=r(341719),a=r(235367),o=r(84087),s=r(501830),i=r(357786),l=r(595210),c=r(636765),d=r(456169),u=r(158042),p=r(369483),h=r.n(p),f=r(847001),g=r(204147),y=r(867885);const m=new l.g((0,u.eI)({url:f.Z.get("GQL_WS_ENDPOINT")})),v=new n.u({uri:f.Z.get("GQL_HTTP_ENDPOINT")}),b=(0,a.V)((({query:e})=>{const t=(0,c.p$)(e);return"OperationDefinition"===t.kind&&"subscription"===t.operation}),m,v),w=new o.h({dataIdFromObject:e=>e.id,possibleTypes:y,typePolicies:{Query:{fields:{assets:{merge:!0}}},AmountType:{keyFields:!1},ImageType:{keyFields:!1},TokenContractType:{keyFields:!1},AssetTokenContractType:{keyFields:!1},AddressType:{keyFields:!1}}});h().config({driver:h().INDEXEDDB,storeName:"cache",name:"xdefi-gql"});new d.cA({cache:w,storage:new d.xm(h()),debug:!1,trigger:"write",maxSize:!1,persistenceMapper:e=>{return t=void 0,r=null,n=function*(){const t=JSON.parse(e),r={},n=[],a=t.ROOT_QUERY;return a&&(r.ROOT_QUERY=Object.keys(a).reduce(((e,t)=>{if("__typename"===t)return e;if(e[t]=a[t],Array.isArray(a[t])){const e=a[t].map((e=>e.__ref));n.push(...e)}else{const e=a[t].__ref;n.push(e)}return e}),{__typename:"Query"}),n.reduce(((e,r)=>(e[r]=t[r],e)),r)),JSON.stringify(r)},new Promise(((e,a)=>{var o=e=>{try{i(n.next(e))}catch(e){a(e)}},s=e=>{try{i(n.throw(e))}catch(e){a(e)}},i=t=>t.done?e(t.value):Promise.resolve(t.value).then(o,s);i((n=n.apply(t,r)).next())}));var t,r,n}});const x=new s.f({link:b,cache:w,name:"extension_app",version:g.i8});window.__APOLLO_CLIENT__=x,window.__APOLLO_GQL__=i.Ps},136438:(e,t,r)=>{r.d(t,{F:()=>s,N:()=>i});var n=r(459457),a=r(237596),o=r(337541);const s=[{name:"Token",fragment:r(691156).h,prefix:"AssetTokenType",field:"tokens"},{name:"CompositeToken",fragment:a.I,prefix:"AssetCompositeTokenType",field:"compositeTokens"},{name:"CryptoCurrency",fragment:o.u,prefix:"AssetCryptoCurrencyType",field:"cryptoCurrencies"}],i=e=>{for(const t of s){const r=n.Lp.readFragment({id:`${t.prefix}:${e}`,fragment:t.fragment,fragmentName:t.name});if(r&&r.id)return r}}},831352:(e,t,r)=>{r.d(t,{GK:()=>f,MS:()=>y,OH:()=>u,VO:()=>l,VX:()=>a,Yn:()=>m,c$:()=>i,e5:()=>c,g5:()=>p,hq:()=>s,pD:()=>d,tV:()=>o,ym:()=>g,yp:()=>h});var n=r(148771),a=(e=>(e.RequestAccounts="request_accounts",e))(a||{}),o=(e=>(e.SignTransaction="sign_transaction",e.RequestAccountsAndKeys="request_accounts_and_keys",e.GetUnspentUtxos="get_unspent_utxos",e.SignPsbt="sign_psbt",e.Transfer="transfer",e))(o||{}),s=(e=>(e.Transfer="transfer",e.SignTransaction="sign_transaction",e))(s||{}),i=(e=>(e.SignTransaction="sign_transaction",e.Transfer="transfer",e))(i||{}),l=(e=>(e.Deposit="deposit",e.Transfer="transfer",e.SignTransaction="sign_transaction",e))(l||{}),c=(e=>(e.Info="info",e.Connect="connect",e.Sign="sign",e.SignBytes="sign-bytes",e.Post="post",e))(c||{}),d=(e=>(e.Transfer="transfer",e.SignTransaction="sign_transaction",e))(d||{}),u=(e=>(e.Transfer="transfer",e.SignTransaction="sign_transaction",e))(u||{}),p=(e=>(e.Mainnet="mainnet",e.Testnet="testnet",e))(p||{}),h=(e=>(e.Ethereum="ethereum",e.Avalanche="avalanche",e.Fantom="fantom",e.Arbitrum="arbitrum",e.Binance="binance",e.BinanceSmartChain="binancesmartchain",e.Polygon="polygon",e.Bitcoin="bitcoin",e.Litecoin="litecoin",e.BitcoinCash="bitcoincash",e.Thorchain="thorchain",e.Terra="terra",e.Dogecoin="dogecoin",e.Solana="solana",e.Aurora="aurora",e.Near="near",e.Cosmoshub="cosmoshub",e.Osmosis="osmosis",e.Axelar="axelar",e.Juno="juno",e.Crescent="crescent",e.Cronos="cronos",e.CronosEvm="cronosEVM",e.Kava="kava",e.Akash="akash",e.Stargaze="stargaze",e.Kujira="kujira",e.SeiTestnet="seitestnet",e.Stride="stride",e.Mars="mars",e.Optimism="optimism",e.CantoEvm="cantoEVM",e.Klaytn="klaytn",e.Gnosis="gnosis",e.BitcoinTestnet="bitcointestnet",e))(h||{});const f={ethereum:"Ethereum",avalanche:"Avalanche",fantom:"Fantom",arbitrum:"Arbitrum",binance:"BinanceChain",binancesmartchain:"BinanceSmartChain",polygon:"Polygon",bitcoin:"Bitcoin",litecoin:"Litecoin",bitcoincash:"BitcoinCash",thorchain:"THORChain",terra:"Terra",dogecoin:"Dogecoin",solana:"Solana",aurora:"Aurora",near:"Near",cosmoshub:"Cosmos",osmosis:"Osmosis",axelar:"Axelar",juno:"JUNO",crescent:"Crescent",cronos:"Cronos",kava:"Kava",akash:"Akash",stargaze:"Stargaze",kujira:"Kujira",cronosEVM:"CronosEVM",seitestnet:"SeiTestnet",stride:"Stride",mars:"MarsProtocol",optimism:"Optimism",cantoEVM:"CantoEVM",klaytn:"Klaytn",gnosis:"Gnosis",bitcointestnet:"BitcoinTestnet"},g=e=>e&&e.hasOwnProperty("amount")&&e.hasOwnProperty("decimals"),y=e=>(0,n.XZ)(e.amount,e.decimals);var m=(e=>(e.Erc20="ERC20",e.Erc721="ERC721",e.Erc1155="ERC1155",e))(m||{})},834392:(e,t,r)=>{r.d(t,{DF:()=>i,Ju:()=>u,UX:()=>l,j5:()=>d,uO:()=>c});var n=r(244431),a=r.n(n),o=r(771341),s=Math.pow;const i=6,l=2,c=6,d=4,u=new(a())(1).div(s(10,i));o.JE,o.k0,o.kf,o.JP,o.TI},680528:(e,t,r)=>{r.d(t,{Df:()=>f,Ds:()=>h,Ji:()=>y,KV:()=>g,N7:()=>d,SR:()=>u,YN:()=>s,ZN:()=>a,ft:()=>o,hX:()=>c,iA:()=>i,ie:()=>l,lo:()=>m,p9:()=>p,ys:()=>n});var n=(e=>(e.Single="single",e.All="all",e))(n||{}),a=(e=>(e.None="",e.Create="create",e.Import="import",e.ViewOnly="view-only",e.SubAccount="sub-account",e.Hardware="hardware",e.Confirm="confirm",e))(a||{});const o="/";const s="/intro",i="/import-wallet",l="/manage-wallet",c="/details",d=["/swapAssets","/swapTransactions","/swap"],u=75e5;const p={"/sendAsset":"Send Asset","/home/assets":"Home","/swap":"Swap","/add-token":"Add Token","/swapTransactions":"Swap Transactions","/wallets":"Accounts","/nft":"NFT","/home/activity":"Recent Activity"},h="safeTransferFrom(address,address,uint256)",f="safeTransferFrom(address,address,uint256,uint256,bytes)",g=Object.freeze({A0:0,A6:6,A8:8,A9:9,A18:18,A24:24}),y=/[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)?/,m=8},25022:(e,t,r)=>{r.d(t,{GG:()=>a,uT:()=>n});var n=(e=>(e.TokensInWallets="tokens in wallets",e.SendAssetSuccess="send asset success",e.SendAssetFailed="send asset failed",e.SwapSucceeded="swap broadcast succeeded",e.SwapFailed="swap broadcast failed",e.SwapCanceledSwap="Swap Canceled Swap",e.SwapQuoteRequested="Swap Quote Received",e.SwapQuoteRequestFailed="Swap Quote Request Failed",e.SwapSourceTokenSelected="Swap Source Token Selected",e.SwapDestTokenSelected="Swap Destination Token Selected",e.SwapTradesRequestSucceeded="Swap Trades Request Succeeded",e.SwapTradesRequestFailed="Swap Trades Request Failed",e.SwapModalOpened="Swap Modal Opened",e.OpenedExtension="open extension",e.Installed="extension installed",e.RestoreByRecoveryCode="restored wallet by recovery code",e.RestoreBySecretPhrase="restored wallet by seed phrase",e.RestoreByKeystore="restored wallet by keystore json",e.RestoreByPk="restored wallet by private key",e.CreateNewWallet="create new wallet",e.AddTokenToWallet="add tokens to wallet",e.ConnectToDapp="connected to dapp",e.ApproveDappTransaction="approve dapp transaction",e.MainSendClicked="main send clicked",e.MainAddressesClicked="main addresses clicked",e.MainBuyClicked="main buy clicked",e.AssetSendClicked="asset send clicked",e.AssetReceiveClicked="asset receive clicked",e.AssetBuyClicked="asset buy clicked",e.CopyAddress="wallet address copied",e.ToggledPrioritise="toggled prioritise",e.ToggledAnonMetrcs="toggled anonymous metrics",e.ChangedSlippage="changed slippage",e.ToggledSwapSettings="toggled swap settings",e.ReleaseNotesLinkClicked="release notes link clicked",e.OnboardingTc="t & c checked",e.OnboardingHardwareWallet="onboarding hardware wallet",e.OnboardingNewHotWallet="onboarding  new hot wallet",e.OnboardingLegacyWallet="onboarding legacy wallet",e.OnboardingComplete="onboarding complete",e.AssetsRefined="assets refined",e.CustomChainAdded="custom chain added",e.Locked="wallet locked",e.DetailsClicked="asset details clicked",e))(n||{}),a=(e=>(e.Sign="sign",e.Approve="approve",e.Transaction="transaction",e))(a||{})},175177:(e,t,r)=>{r.a(e,(async(e,n)=>{try{r.d(t,{V:()=>i});var a=r(308787),o=r(818117),s=e([a]);a=(s.then?(await s)():s)[0];o.ZP.div`
  overflow-wrap: break-word;
`;const i=(0,o.ZP)(a.FlexBox).attrs({alignItems:"center",flexDirection:"row",gridGap:8})`
  width: 100%;
`;n()}catch(e){n(e)}}))},353789:(e,t,r)=>{r.a(e,(async(e,n)=>{try{r.d(t,{W2:()=>a.Z});var a=r(213415),o=r(728847),s=r(115105),i=r(710378),l=(r(936352),e([a,o,s,i]));[a,o,s,i]=l.then?(await l)():l,n()}catch(e){n(e)}}))},427504:(e,t,r)=>{r.d(t,{Cb:()=>c,R6:()=>u,zr:()=>d});var n=r(256371),a=r(680528),o=r(691438),s=r(99127),i=r(834392),l=r(299246);function c(e,t=!1){return e.isNaN()?"0":`${t&&(0,s.zS)(e)?"~":""}${(0,l.pF)(e,i.DF,{trimTrailingZero:!0})}`}function d(e,t,r=!1){return e.isNaN()?`0 ${t}`:`${r&&(0,s.zS)(e)?"~":""}${(0,l.pF)(e,i.DF,{trimTrailingZero:!0})} ${t}`}function u(e,t,r,s){const i=e.getType();switch(i){case o.J.Binance:return String(t);case o.J.Bitcoin:case o.J.BitcoinCash:case o.J.Litecoin:case o.J.Thorchain:case o.J.Dogecoin:return(0,n.formatUnits)(String(t),8);case o.J.Terra:case o.J.Near:case o.J.Solana:return(0,n.formatUnits)(String(t),null!=s?s:a.KV.A6);default:if(i===o.J.Evm)try{return e.getConfig().tokenSymbol===r?String(t):(0,n.formatUnits)(String(t),s)}catch(e){return"0"}if(i===o.J.Cosmos)return(0,n.formatUnits)(String(t),null!=s?s:a.KV.A6);throw`getAssetAmount not handled for ${e.getType()}`}}},299246:(e,t,r)=>{r.d(t,{pF:()=>s});var n=r(244431),a=r.n(n);r(369983);const o=[{value:1e18,symbol:"E"},{value:1e15,symbol:"P"},{value:1e12,symbol:"T"},{value:1e9,symbol:"B"},{value:1e6,symbol:"M"},{value:1e5,symbol:"K"}],s=(e,t,r={trimTrailingZero:!1})=>{const n=new(a())(e);for(let e=0;e<o.length;e+=1)if(n.gte(o[e].value)){return(n.div(1e5===o[e].value?1e3:o[e].value).toFixed(t).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+o[e].symbol).replace(new RegExp("(\\.0*|(?<=(\\..*))0*)$"),"")}return Number.parseFloat(n.toFixed(t)).toLocaleString(navigator.language,{minimumFractionDigits:r.trimTrailingZero?0:t,maximumFractionDigits:t})}},522933:(e,t,r)=>{r.d(t,{Q4:()=>i,eP:()=>o,fL:()=>a,fm:()=>l,fp:()=>s});var n=r(739989);const a=(e,t=5,r=3)=>e?e.length<=t+r?e:`${e.substr(0,t)}...${e.substr(e.length-r,r)}`:(n.Z.debug({msg:"strHShortAddress: argument passed",org:e}),""),o=e=>{var t;return(null==(t=null==e?void 0:e.charAt(0))?void 0:t.toUpperCase())+(null==e?void 0:e.slice(1))},s=e=>!e||/^\s*$/.test(e),i=(e,t)=>{for(const r in e)if("string"==typeof e[r]){for(const n of t)if(e[r].includes(n))return!0}else if("object"==typeof e[r]&&null!==e[r]&&i(e[r],t))return!0;return!1},l=e=>{var t;return(null==(t=e.charAt(0))?void 0:t.toUpperCase())+e.slice(1)}},626423:(e,t,r)=>{r.d(t,{Bw:()=>H,C6:()=>k,Hy:()=>T,J$:()=>V,Jr:()=>E,NU:()=>Z,RK:()=>D,Sy:()=>O,WG:()=>K,WU:()=>$,XL:()=>A,YO:()=>P,Zb:()=>G,bg:()=>R,c4:()=>M,dk:()=>z,hv:()=>U,hz:()=>_,ix:()=>B,j2:()=>N,mY:()=>W,pr:()=>I,qN:()=>L,r0:()=>F});var n=r(942274),a=r(831352),o=r(435161),s=r.n(o),i=r(556138),l=r(216558),c=r(489396),d=r(691438),u=r(222751),p=r(977710),Buffer=r(348764).Buffer,h=Object.defineProperty,f=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(e,t,r)=>t in e?h(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,w=(e,t)=>{for(var r in t||(t={}))m.call(t,r)&&b(e,r,t[r]);if(y)for(var r of y(t))v.call(t,r)&&b(e,r,t[r]);return e},x=(e,t)=>f(e,g(t));const S="https://imaginary.xdefi.services",C=`${S}/insecure/resize:fit:500:500:0/gravity:ce/plain/`;function T(e,t){const r=`data:text/json;charset=utf-8,${encodeURIComponent(JSON.stringify(e))}`,n=document.createElement("a");n.setAttribute("href",r),n.setAttribute("download",`${t}.json`),document.body.appendChild(n),n.click(),n.remove()}function P(e){let t="";const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let n=0;n<e;n++)t+=r.charAt(Math.floor(62*Math.random()));return t}const _=e=>{let t=0;return s()(e,(({label:e})=>{const r=e.match(/Account (\d+)$/);if(r){const e=Number(r[1]);t=Math.max(t,e)}})),t+1},k=e=>{const t=[];return s()(Object.keys(e),(r=>{const n=e[r];if(n.walletInfo.type===i.WalletType.Keystore){0===n.walletInfo.data.walletIndex&&t.push(n)}else if((0,l.C)(n.walletInfo.type)){0===n.walletInfo.data.walletIndex&&t.push(n)}})),t.length+1},I=e=>e.split(".").pop(),Z=e=>{const t=I(e);switch(null==t?void 0:t.toLowerCase()){case"m4v":case"avi":case"mpg":case"mp4":return!0}return!1};function A(e){switch(e){case a.g5.Mainnet:return n.Network.Mainnet;case a.g5.Testnet:return n.Network.Testnet;default:throw"Network not supported"}}const j=(e,t)=>Object.keys(e).filter((r=>e[r]===t)),E=(e,t)=>Number(e)&&Number(e)>0?Number(e):Number(t);function O(e,t=14,r=6){return e.length>t?`${e.substring(0,r+2)}...${e.substring(e.length-r)}`:e}function D(e="",t,r=!1){var n;if(!t||!t.breakdown||!t.breakdown.length)return(null==(n=null==t?void 0:t.displayProps)?void 0:n.label)||e;const a=`${t.breakdown.map((e=>{var t;return null==(t=e.context)?void 0:t.symbol})).join("/")} LP`;return r?O(a):a}const $=e=>e&&JSON.parse(JSON.stringify(e)),N=(e,t)=>Number(e)-Number(t),M=e=>{const t=t=>Object.values(e.chainData[t].tokens).reduce(((e,t)=>(e[t.id]=t,e)),{}),r=Object.keys(e.chainData).reduce(((r,n)=>(e.chainData[n]&&(r[n]=x(w({},e.chainData[n]),{tokens:t(n)})),r)),{});return x(w({},e),{chainData:r})},B=e=>{let t=e;return/^https?:\/\//i.test(t)||(t=`http://${t}`),t},F=e=>e.replace(/^https?:\/\//,""),R=e=>Z(e)?e:e.startsWith("http")?e.startsWith(S)?e:`${C}${encodeURIComponent(e)}`:e,L=e=>(0,l.C)(e.walletInfo.type),K=(e,t)=>{let r;return j(U,e.getId()).map((e=>isNaN(Number(e))?e:Number(e)))&&e.support(d.B.Nft)&&(r=t.length||0),r},U={1:a.yp.Ethereum,10:a.yp.Optimism,25:a.yp.CronosEvm,56:a.yp.BinanceSmartChain,100:a.yp.Gnosis,137:a.yp.Polygon,250:a.yp.Fantom,7700:a.yp.CantoEvm,8217:a.yp.Klaytn,42161:a.yp.Arbitrum,43114:a.yp.Avalanche,1313161554:a.yp.Aurora,"cosmoshub-4":a.yp.Cosmoshub,"akashnet-2":a.yp.Akash,"axelar-dojo-1":a.yp.Axelar,"crescent-1":a.yp.Crescent,"crypto-org-chain-mainnet-1":a.yp.Cronos,"juno-1":a.yp.Juno,"kava_2222-10":a.yp.Kava,"kaiyo-1":a.yp.Kujira,"mars-1":a.yp.Mars,"osmosis-1":a.yp.Osmosis,"stargaze-1":a.yp.Stargaze,"atlantic-2":a.yp.SeiTestnet,"stride-1":a.yp.Stride,"bitcoin-mainnet":a.yp.Bitcoin,"bitcoin-testnet":a.yp.BitcoinTestnet,litecoin:a.yp.Litecoin,dogecoin:a.yp.Dogecoin,bitcoincash:a.yp.BitcoinCash,binance:a.yp.Binance,thorchain:a.yp.Thorchain,"mainnet-beta":a.yp.Solana,"phoenix-1":a.yp.Terra,near:a.yp.Near},W=x(w({},U),{7e3:"zetachain"}),H=e=>{const t=j(U,e);if(0===t.length)throw`ChainId ${e} is not supported`;return t[0]},G=(e,t)=>{const r=p.tP[e];c.Z.config.setBech32Prefix({accAddr:r,accPub:r+"pub",valAddr:r+"valoper",valPub:r+"valoperpub",consAddr:r+"valcons",consPub:r+"valconspub"});const n=new c.Z.proto.cosmos.crypto.secp256k1.PubKey({key:Uint8Array.from(Buffer.from(t,"hex"))});return c.Z.AccAddress.fromPublicKey(n).toAccAddress().toString()},V=e=>e.reduce(((e,t)=>(e[t]=!0,e)),{}),J=(e,t)=>{let r=e;for(;r.length<t;)r=`0${r}`;return r},z=({v:e,r:t,s:r})=>{const n=(0,u.fromSigned)(t),a=(0,u.fromSigned)(r),o=J((0,u.toUnsigned)(n).toString("hex"),64),s=J((0,u.toUnsigned)(a).toString("hex"),64),i=(0,u.stripHexPrefix)((0,u.intToHex)(e));return(0,u.addHexPrefix)(o.concat(s,i)).toString()}},281672:(e,t,r)=>{r.a(e,(async(e,n)=>{try{r.d(t,{Iq:()=>h,JB:()=>f,Ni:()=>c,UW:()=>l,WG:()=>s.Z,fU:()=>u,i_:()=>d,nl:()=>p,z$:()=>o.Z});r(667294);var a=r(519416),o=r(311428),s=r(893600),i=e([s]);function l(){return a.browser.extension.getBackgroundPage().masterController}function c(){const{masterKeys:e}=l();return e}function d(){const{wallets:e}=l();return e}function u(){const{chains:e}=l();return e}function p(){const{dapps:e}=l();return e}function h(){const{dappsProviders:e}=l();return e}function f(){const{assets:e}=l();return e}s=(i.then?(await i)():i)[0];n()}catch(g){n(g)}}))},518949:(e,t,r)=>{r.a(e,(async(e,n)=>{try{r.d(t,{j:()=>d});var a=r(667294),o=r(363119),s=r(834392),i=r(299246),l=r(281672),c=e([l]);l=(c.then?(await c)():c)[0];const d=()=>{const e=(0,o.v9)((e=>e.settings.currency)),[t,r]=(0,a.useState)([]),n=(0,l.UW)(),c=(0,a.useCallback)(((e,r,n)=>{var a,o;if(e===r)return n;const s=null==(a=t.find((t=>t.name===e)))?void 0:a.scale,i=null==(o=t.find((e=>e.name===r)))?void 0:o.scale;return s&&i?n*i/s:0}),[t]),d=(0,a.useCallback)((t=>c("USD",e.name,t)),[e,t,c]),u=(0,a.useCallback)((t=>{const{name:r,symbol:n}=e;if(isNaN(t))return"N/A";const a=(0,i.pF)(t,s.UX,{trimTrailingZero:!0});return isNaN(t)?"N/A":t>0&&t<.001?`< ${n}0.001 ${r}`:`${n}${a} ${r}`}),[e,t]),p=(0,a.useCallback)((t=>{const r=c("USD",e.name,t);return u(r)}),[e,t]),h=(0,a.useCallback)((()=>{return e=void 0,t=null,a=function*(){const e=(yield n.getCachedCurrencies()).fiatCurrencies.map((e=>{var t;return{symbol:e.character||"",name:e.symbol,title:e.name||"",scale:Number(null==(t=e.price)?void 0:t.amount)}}));r(e)},new Promise(((r,n)=>{var o=e=>{try{i(a.next(e))}catch(e){n(e)}},s=e=>{try{i(a.throw(e))}catch(e){n(e)}},i=e=>e.done?r(e.value):Promise.resolve(e.value).then(o,s);i((a=a.apply(e,t)).next())}));var e,t,a}),[]);return(0,a.useEffect)((()=>{h()}),[]),{getConvertedPrice:p,currency:e,allCurrencies:t,convertPrice:c,getFormatedPriceStr:u,getConvertedPriceFromUSD:d}};n()}catch(e){n(e)}}))},771341:(e,t,r)=>{r.d(t,{$Y:()=>q.Z,$u:()=>T.Z,Aq:()=>A.Z,C8:()=>K.Z,Cg:()=>E.Z,DV:()=>w.Z,E4:()=>_.Z,FE:()=>R.Z,HN:()=>S.Z,I1:()=>ne.Z,IG:()=>P.Z,JE:()=>H.Z,JP:()=>m.Z,KL:()=>h.Z,Kq:()=>Y.Z,Lo:()=>W.Z,Oh:()=>z.Z,RN:()=>re.Z,T0:()=>Z.Z,TI:()=>f.Z,Tw:()=>C.Z,V_:()=>ee.Z,W1:()=>b.Z,Wz:()=>Q.Z,XH:()=>u.Z,Ye:()=>D.Z,_$:()=>X.Z,_8:()=>d.Z,_V:()=>k.Z,_g:()=>L.Z,_m:()=>x.Z,aM:()=>l.Z,aN:()=>B.Z,dY:()=>i.Z,dt:()=>c.Z,fw:()=>te.Z,hO:()=>ae.Z,i5:()=>G.Z,k0:()=>a.Z,kF:()=>s.Z,kf:()=>V.Z,o:()=>o.Z,o0:()=>v.Z,pN:()=>O.Z,pO:()=>N.Z,pu:()=>M.Z,qm:()=>j.Z,sz:()=>p.Z,tE:()=>y.Z,vU:()=>J.Z,wM:()=>I.Z,wz:()=>U.Z,xC:()=>F.Z,xP:()=>g.Z,xk:()=>n.Z,zM:()=>$.Z});r(594508),r(818360),r(32447),r(660296);var n=r(376874),a=(r(515780),r(952068),r(253756),r(265192)),o=(r(236354),r(799719)),s=(r(12127),r(213671),r(680105)),i=r(592717),l=(r(677914),r(443455)),c=r(152903),d=(r(639381),r(153780)),u=(r(318500),r(684546),r(150086),r(295943),r(26190),r(139874)),p=(r(903493),r(424372),r(579497)),h=(r(707560),r(77411)),f=r(327665),g=(r(927547),r(175075)),y=(r(144962),r(741690)),m=r(63880),v=r(460868),b=(r(143831),r(168021)),w=(r(903983),r(896102),r(939869),r(273798),r(13268)),x=r(38707),S=(r(960057),r(241335),r(489733)),C=(r(57802),r(596724)),T=r(979433),P=(r(42288),r(782415)),_=(r(638946),r(768892),r(540186)),k=(r(561639),r(100206),r(658242),r(855437),r(28677),r(667342)),I=(r(379172),r(731188),r(120360),r(888819),r(389460)),Z=r(38760),A=(r(825655),r(802177),r(206242),r(807784),r(388557)),j=r(668607),E=(r(857963),r(237942)),O=(r(375037),r(8810),r(119933)),D=(r(556364),r(317632)),$=(r(606232),r(739381),r(966520),r(738152),r(753420)),N=(r(832509),r(922751),r(576843),r(537426)),M=(r(518190),r(669185)),B=r(575704),F=r(293677),R=(r(249162),r(182218),r(844265),r(131410),r(386205)),L=r(591272),K=(r(533725),r(386663),r(360997)),U=r(876524),W=(r(255078),r(969355)),H=(r(475940),r(642357)),G=r(388899),V=(r(238555),r(531627),r(158947),r(102152),r(511569),r(633324)),J=(r(870150),r(795992),r(381877)),z=(r(140901),r(828244),r(617916)),X=r(360990),q=r(85373),Y=(r(997792),r(616618),r(513376),r(431399)),Q=r(672833),ee=r(365370),te=r(773466),re=r(205093),ne=r(259390),ae=r(727691);r(454656),r(16051),r(477843),r(80638),r(14752)},431188:(e,t,r)=>{r.d(t,{BM:()=>n.BM,KM:()=>n.KM,gZ:()=>a.g,kq:()=>n.kq,zx:()=>n.zx});var n=r(976829),a=r(889159)},442977:(e,t,r)=>{r.d(t,{U:()=>n.Z,j:()=>a.j});var n=r(725317),a=r(638531)},246858:(e,t,r)=>{r.d(t,{n:()=>n});var n=(e=>(e.Up="Up",e.Down="Down",e.Off="Off",e))(n||{})},308787:(e,t,r)=>{r.a(e,(async(e,n)=>{try{r.d(t,{Avatar:()=>O.qE,AvatarButton:()=>m.Z,BackButton:()=>g.Z,BaseButton:()=>E.zx,BorderedChainIcon:()=>j.Z,CanvasText:()=>B.m,Card:()=>o.Z,CircularProgress:()=>_.Z,ClipboardButton:()=>v.Z,ConfirmLedger:()=>i.Z,DashLine:()=>u.Z,Dialog:()=>D.Dialog,FiatAssetPair:()=>s.Z,FlexBox:()=>K.h,FloatingDialog:()=>D.FloatingDialog,HoverButton:()=>y.Z,IconButton:()=>f.Z,IconButtonVariant:()=>E.gZ,InputField:()=>$.U,LinearProgress:()=>k.Z,Link:()=>p.Z,Menu:()=>T.ZP,MultiSelectCheckbox:()=>M.t,Portal:()=>P.Z,PrimaryButton:()=>E.KM,QRCode:()=>N.s,ScrollBars:()=>I.Z,ScrollingContainer:()=>Z.Z,SearchInput:()=>b.Z,SecondaryButton:()=>E.kq,SegmentedPicker:()=>A.Z,SingleSelectCheckbox:()=>M.m,SmallInputField:()=>$.j,SortingRowLabel:()=>C.Z,Switch:()=>l.Z,Tab:()=>S.Z,Table:()=>a.Z,Tabs:()=>x.Z,TextArea:()=>w.Z,Tooltip:()=>c.ZP,TopSheet:()=>L.V,TxData:()=>h.Z,WalletIcon:()=>U.o,WarningButton:()=>E.BM,useDelayClose:()=>R.n});var a=r(115254),o=r(680409),s=r(44687),i=(r(15145),r(802615)),l=(r(712354),r(414928)),c=(r(91933),r(356308)),d=r(856310),u=(r(743773),r(934834)),p=r(102964),h=r(348329),f=r(772794),g=r(840592),y=(r(754937),r(946969)),m=r(604275),v=r(220138),b=r(507263),w=r(670585),x=r(23985),S=r(459251),C=r(215862),T=r(404268),P=r(302767),_=r(179145),k=r(316284),I=(r(861634),r(826705)),Z=r(894900),A=r(991660),j=(r(880465),r(139610)),E=r(431188),O=r(585331),D=r(123206);r.o(D,"CanvasText")&&r.d(t,{CanvasText:function(){return D.CanvasText}}),r.o(D,"FlexBox")&&r.d(t,{FlexBox:function(){return D.FlexBox}}),r.o(D,"InputField")&&r.d(t,{InputField:function(){return D.InputField}}),r.o(D,"MultiSelectCheckbox")&&r.d(t,{MultiSelectCheckbox:function(){return D.MultiSelectCheckbox}}),r.o(D,"QRCode")&&r.d(t,{QRCode:function(){return D.QRCode}}),r.o(D,"SingleSelectCheckbox")&&r.d(t,{SingleSelectCheckbox:function(){return D.SingleSelectCheckbox}}),r.o(D,"SmallInputField")&&r.d(t,{SmallInputField:function(){return D.SmallInputField}}),r.o(D,"TopSheet")&&r.d(t,{TopSheet:function(){return D.TopSheet}}),r.o(D,"WalletIcon")&&r.d(t,{WalletIcon:function(){return D.WalletIcon}}),r.o(D,"useDelayClose")&&r.d(t,{useDelayClose:function(){return D.useDelayClose}});var $=r(442977),N=r(189157),M=r(748016),B=r(525922),F=r(462906);r.o(F,"FlexBox")&&r.d(t,{FlexBox:function(){return F.FlexBox}}),r.o(F,"TopSheet")&&r.d(t,{TopSheet:function(){return F.TopSheet}}),r.o(F,"WalletIcon")&&r.d(t,{WalletIcon:function(){return F.WalletIcon}}),r.o(F,"useDelayClose")&&r.d(t,{useDelayClose:function(){return F.useDelayClose}});var R=r(459221),L=r(124358),K=r(79295),U=r(444644),W=e([d,j]);[d,j]=W.then?(await W)():W,n()}catch(e){n(e)}}))},505403:(e,t,r)=>{r.a(e,(async(e,n)=>{try{r.d(t,{Z:()=>i});var a=r(667294),o=r(348365),s=e([o]);o=(s.then?(await s)():s)[0];const i=()=>{const e=(0,a.useContext)(o.O);if(!e)throw"useFiaty must be used within a FiatProvider";return e};n()}catch(e){n(e)}}))},101668:(e,t,r)=>{r.d(t,{G:()=>n});var n=(e=>(e.Node="node",e.Rpc="rpc",e))(n||{})},111897:(e,t,r)=>{r.d(t,{KE:()=>a,Kw:()=>n});r(517563),r(693246);const n=(e,t)=>{const r=e.getConfig().network.address;return r?`${r}${t}`:null},a=(e,t)=>{var r,n,a;const o=null==t?void 0:t.toLowerCase();return(null==(r=e.getConfig().shortName)?void 0:r.toLowerCase().includes(o))||(null==(n=e.getConfig().tokenSymbol)?void 0:n.toLowerCase().includes(o))||(null==(a=e.getConfig().chainSymbol)?void 0:a.toLowerCase().includes(o))}},605930:(e,t,r)=>{r.d(t,{Jz:()=>i,Ot:()=>u,RP:()=>c,Ug:()=>l,lA:()=>d});var n=r(847001),a=r(581354),o=r.n(a),s=r(691438);r(519416);const i=e=>o().SHA256(e).toString(o().enc.Hex),l=(e,t)=>{switch(t){case s.J.Bitcoin:case s.J.Litecoin:case s.J.Dogecoin:case s.J.Evm:return e-n.Z.get("BITCOIN_MAX_TRANSACTION_BUFFER");case s.J.BitcoinCash:return e-n.Z.get("BITCOINCASH_MAX_TRANSACTION_BUFFER");case s.J.Terra:return e-n.Z.get("TERRA_MAX_TRANSACTION_BUFFER");case s.J.Solana:return e-n.Z.get("SOLANA_MAX_TRANSACTION_BUFFER");default:return e}},c=(e,t)=>{if(e===t)return!0;const r=e.split("."),n=t.split("."),a=Math.min(r.length,n.length);for(let e=0;e<a;e++){if(parseInt(r[e])>parseInt(n[e]))return!0;if(parseInt(r[e])<parseInt(n[e]))return!1}return r.length>n.length||!(r.length<n.length)},d=(e,t)=>(null==e?void 0:e.symbol)===(null==t?void 0:t.symbol)&&(null==e?void 0:e.ticker)===(null==t?void 0:t.ticker)&&(null==e?void 0:e.chain)===(null==t?void 0:t.chain),u=(e,t)=>{if(!t)throw"Network ID is required";return`${e}_${t}`}},218006:(e,t,r)=>{r.d(t,{O1:()=>i,Qp:()=>s,jP:()=>a,kw:()=>l,lk:()=>o});var n=r(496486);const a=e=>({value:e<1?(0,n.round)(60*e):(0,n.round)(e),symbol:e<1?"s":"m",text:e<1?"secs":1===(0,n.round)(e)?"min":"mins"}),o=e=>null==e?void 0:e.toLowerCase().split(" ").reduce(((e,t)=>{var r;return e+((null==(r=t[0])?void 0:r.toUpperCase())+t.slice(1))})),s=e=>e.reduce(((e,t)=>e+t.toString(16).padStart(2,"0")),""),i=e=>/^[A-HJ-NP-Za-km-z1-9]*$/.test(e),l=e=>e.replace(/[']/g,"")}},d={};function u(e){var t=d[e];if(void 0!==t)return t.exports;var r=d[e]={id:e,loaded:!1,exports:{}};return c[e].call(r.exports,r,r.exports,u),r.loaded=!0,r.exports}u.m=c,u.amdO={},e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",r="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",n=e=>{e&&e.d<1&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},u.a=(a,o,s)=>{var i;s&&((i=[]).d=-1);var l,c,d,u=new Set,p=a.exports,h=new Promise(((e,t)=>{d=t,c=e}));h[t]=p,h[e]=e=>(i&&e(i),u.forEach(e),h.catch((e=>{}))),a.exports=h,o((a=>{var o;l=(a=>a.map((a=>{if(null!==a&&"object"==typeof a){if(a[e])return a;if(a.then){var o=[];o.d=0,a.then((e=>{s[t]=e,n(o)}),(e=>{s[r]=e,n(o)}));var s={};return s[e]=e=>e(o),s}}var i={};return i[e]=e=>{},i[t]=a,i})))(a);var s=()=>l.map((e=>{if(e[r])throw e[r];return e[t]})),c=new Promise((t=>{(o=()=>t(s)).r=0;var r=e=>e!==i&&!u.has(e)&&(u.add(e),e&&!e.d&&(o.r++,e.push(o)));l.map((t=>t[e](r)))}));return o.r?c:s()}),(e=>(e?d(h[r]=e):c(p),n(i)))),i&&i.d<0&&(i.d=0)},a=[],u.O=(e,t,r,n)=>{if(!t){var o=1/0;for(c=0;c<a.length;c++){for(var[t,r,n]=a[c],s=!0,i=0;i<t.length;i++)(!1&n||o>=n)&&Object.keys(u.O).every((e=>u.O[e](t[i])))?t.splice(i--,1):(s=!1,n<o&&(o=n));if(s){a.splice(c--,1);var l=r();void 0!==l&&(e=l)}}return e}n=n||0;for(var c=a.length;c>0&&a[c-1][2]>n;c--)a[c]=a[c-1];a[c]=[t,r,n]},u.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return u.d(t,{a:t}),t},s=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,u.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if("object"==typeof e&&e){if(4&t&&e.__esModule)return e;if(16&t&&"function"==typeof e.then)return e}var r=Object.create(null);u.r(r);var n={};o=o||[null,s({}),s([]),s(s)];for(var a=2&t&&e;"object"==typeof a&&!~o.indexOf(a);a=s(a))Object.getOwnPropertyNames(a).forEach((t=>n[t]=()=>e[t]));return n.default=()=>e,u.d(r,n),r},u.d=(e,t)=>{for(var r in t)u.o(t,r)&&!u.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},u.f={},u.e=e=>Promise.all(Object.keys(u.f).reduce(((t,r)=>(u.f[r](e,t),t)),[])),u.u=e=>"js/"+({3096:"queryString",4604:"tsub-middleware",7493:"schemaFilter",8119:"auto-track",8150:"legacyVideos",9214:"remoteMiddleware",9464:"ajs-destination"}[e]||e)+".bundle.js",u.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),u.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),u.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i={},l="xdefi-extension:",u.l=(e,t,r,n)=>{if(i[e])i[e].push(t);else{var a,o;if(void 0!==r)for(var s=document.getElementsByTagName("script"),c=0;c<s.length;c++){var d=s[c];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==l+r){a=d;break}}a||(o=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,u.nc&&a.setAttribute("nonce",u.nc),a.setAttribute("data-webpack",l+r),a.src=e),i[e]=[t];var p=(t,r)=>{a.onerror=a.onload=null,clearTimeout(h);var n=i[e];if(delete i[e],a.parentNode&&a.parentNode.removeChild(a),n&&n.forEach((e=>e(r))),t)return t(r)},h=setTimeout(p.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=p.bind(null,a.onerror),a.onload=p.bind(null,a.onload),o&&document.head.appendChild(a)}},u.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),u.v=(e,t,r,n)=>{var a=fetch(u.p+""+r+".module.wasm");return"function"==typeof WebAssembly.instantiateStreaming?WebAssembly.instantiateStreaming(a,n).then((t=>Object.assign(e,t.instance.exports))):a.then((e=>e.arrayBuffer())).then((e=>WebAssembly.instantiate(e,n))).then((t=>Object.assign(e,t.instance.exports)))},u.p="",(()=>{var e={6098:0};u.f.j=(t,r)=>{var n=u.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var a=new Promise(((r,a)=>n=e[t]=[r,a]));r.push(n[2]=a);var o=u.p+u.u(t),s=new Error;u.l(o,(r=>{if(u.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,n[1](s)}}),"chunk-"+t,t)}},u.O.j=t=>0===e[t];var t=(t,r)=>{var n,a,[o,s,i]=r,l=0;if(o.some((t=>0!==e[t]))){for(n in s)u.o(s,n)&&(u.m[n]=s[n]);if(i)var c=i(u)}for(t&&t(r);l<o.length;l++)a=o[l],u.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return u.O(c)},r=self.webpackChunkxdefi_extension=self.webpackChunkxdefi_extension||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var p=u.O(void 0,[1959,6983,2818,1535,6087,9675,9938,9664,2313,7683,3877,663,7147,6839,6454,4263,7664,2391,6583,5298,696,9120,2335],(()=>u(634376)));p=u.O(p)})();
//# sourceMappingURL=multiTxMsgSign.bundle.js.map