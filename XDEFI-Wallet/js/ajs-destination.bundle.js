!function(){try{var n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(n._sentryDebugIds=n._sentryDebugIds||{},n._sentryDebugIds[t]="f9114ecf-ffcd-422f-910c-2c034ead5017",n._sentryDebugIdIdentifier="sentry-dbid-f9114ecf-ffcd-422f-910c-2c034ead5017")}catch(n){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"28.2.2"},(self.webpackChunkxdefi_extension=self.webpackChunkxdefi_extension||[]).push([[9464],{318598:(n,t,i)=>{function e(n,t){var i,e;return"boolean"==typeof(null==t?void 0:t.enabled)?t.enabled:null===(e=null===(i=null==n?void 0:n.__default)||void 0===i?void 0:i.enabled)||void 0===e||e}i.d(t,{n:()=>e})},888009:(n,t,i)=>{i.r(t),i.d(t,{LegacyDestination:()=>z,ajsDestinations:()=>G});var e=i(207698),o=i(649969),r=i(465904),s=i(129784),a=i(230466),u=i(969699),c=i(769147),l=i(318598),d=i(800913),h=i(956749),f=i(710360),v=i(165976),p=i(866170),g=i(499382),y=i(666548);function m(n){return n.toLowerCase().replace(".","").replace(/\s+/g,"-")}function w(n,t){return void 0===t&&(t=!1),t?btoa(n).replace(/=/g,""):void 0}function b(n,t,i,o){return(0,e.mG)(this,void 0,void 0,(function(){var r,s,a,u,c,l;return(0,e.Jh)(this,(function(d){switch(d.label){case 0:r=m(t),s=w(r,o),a=(0,g.Kg)(),u="".concat(a,"/integrations/").concat(null!=s?s:r,"/").concat(i,"/").concat(null!=s?s:r,".dynamic.js.gz"),d.label=1;case 1:return d.trys.push([1,3,,4]),[4,(0,y.v)(u)];case 2:return d.sent(),function(n,t,i){var o,r;try{var s=(null!==(r=null===(o=null===window||void 0===window?void 0:window.performance)||void 0===o?void 0:o.getEntriesByName(n,"resource"))&&void 0!==r?r:[])[0];s&&t.stats.gauge("legacy_destination_time",Math.round(s.duration),(0,e.ev)([i],s.duration<100?["cached"]:[],!0))}catch(n){}}(u,n,t),[3,4];case 3:throw c=d.sent(),n.stats.gauge("legacy_destination_time",-1,["plugin:".concat(t),"failed"]),c;case 4:return l=window["".concat(r,"Deps")],[4,Promise.all(l.map((function(n){return(0,y.v)(a+n+".gz")})))];case 5:return d.sent(),window["".concat(r,"Loader")](),[2,window["".concat(r,"Integration")]]}}))}))}var _=i(555469),k=function(n,t){var i,e=t.type,o=t.bundlingStatus,r=t.versionSettings,s="unbundled"!==o&&("browser"===e||(null===(i=null==r?void 0:r.componentTypes)||void 0===i?void 0:i.includes("browser")));return!n.startsWith("Segment")&&"Iterable"!==n&&s},I=function(n,t){var i=!1===t.All&&void 0===t[n];return!1===t[n]||i};function S(n,t){return(0,e.mG)(this,void 0,void 0,(function(){var i,o=this;return(0,e.Jh)(this,(function(a){switch(a.label){case 0:return i=[],(0,r.s)()?[2,t]:[4,(0,h.x)((function(){return t.length>0&&(0,r.G)()}),(function(){return(0,e.mG)(o,void 0,void 0,(function(){var o,r;return(0,e.Jh)(this,(function(e){switch(e.label){case 0:return(o=t.pop())?[4,(0,c.a)(o,n)]:[2];case 1:return r=e.sent(),r instanceof s._||i.push(o),[2]}}))}))}))];case 1:return a.sent(),i.map((function(n){return t.pushWithBackoff(n)})),[2,t]}}))}))}var z=function(){function n(n,t,i,o,r,s){void 0===o&&(o={}),this.options={},this.type="destination",this.middleware=[],this._ready=!1,this._initialized=!1,this.flushing=!1,this.name=n,this.version=t,this.settings=(0,e.pi)({},o),this.disableAutoISOConversion=r.disableAutoISOConversion||!1,this.integrationSource=s,this.settings.type&&"browser"===this.settings.type&&delete this.settings.type,this.options=r,this.buffer=r.disableClientPersistence?new f.Z(4,[]):new v.$(4,"".concat(i,":dest-").concat(n)),this.scheduleFlush()}return n.prototype.isLoaded=function(){return this._ready},n.prototype.ready=function(){var n;return null!==(n=this.onReady)&&void 0!==n?n:Promise.resolve()},n.prototype.load=function(n,t){var i;return(0,e.mG)(this,void 0,void 0,(function(){var o,r,s=this;return(0,e.Jh)(this,(function(e){switch(e.label){case 0:return this._ready||void 0!==this.onReady?[2]:null===(i=this.integrationSource)||void 0===i?[3,1]:(r=i,[3,3]);case 1:return[4,b(n,this.name,this.version,this.options.obfuscate)];case 2:r=e.sent(),e.label=3;case 3:o=r,this.integration=function(n,t,i){var e;"Integration"in n?(n({user:function(){return i.user()},addIntegration:function(){}}),e=n.Integration):e=n;var o=new e(t);return o.analytics=i,o}(o,this.settings,t),this.onReady=new Promise((function(n){s.integration.once("ready",(function(){s._ready=!0,n(!0)}))})),this.onInitialize=new Promise((function(n){s.integration.on("initialize",(function(){s._initialized=!0,n(!0)}))}));try{n.stats.increment("analytics_js.integration.invoke",1,["method:initialize","integration_name:".concat(this.name)]),this.integration.initialize()}catch(t){throw n.stats.increment("analytics_js.integration.invoke.error",1,["method:initialize","integration_name:".concat(this.name)]),t}return[2]}}))}))},n.prototype.unload=function(n,t){return function(n,t,i){return(0,e.mG)(this,void 0,void 0,(function(){var o,r,s,a;return(0,e.Jh)(this,(function(e){return o=(0,g.Kg)(),r=m(n),s=w(n,i),a="".concat(o,"/integrations/").concat(null!=s?s:r,"/").concat(t,"/").concat(null!=s?s:r,".dynamic.js.gz"),[2,(0,y.t)(a)]}))}))}(this.name,this.version,this.options.obfuscate)},n.prototype.addMiddleware=function(){for(var n,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];this.middleware=(n=this.middleware).concat.apply(n,t)},n.prototype.shouldBuffer=function(n){return"page"!==n.event.type&&((0,r.s)()||!1===this._ready||!1===this._initialized)},n.prototype.send=function(n,t,i){var o,r;return(0,e.mG)(this,void 0,void 0,(function(){var s,u,c,d,h,f;return(0,e.Jh)(this,(function(v){switch(v.label){case 0:if(this.shouldBuffer(n))return this.buffer.push(n),this.scheduleFlush(),[2,n];if(s=null===(r=null===(o=this.options)||void 0===o?void 0:o.plan)||void 0===r?void 0:r.track,u=n.event.event,s&&u&&"Segment.io"!==this.name){if(c=s[u],!(0,l.n)(s,c))return n.updateEvent("integrations",(0,e.pi)((0,e.pi)({},n.event.integrations),{All:!1,"Segment.io":!0})),n.cancel(new a.Y({retry:!1,reason:"Event ".concat(u," disabled for integration ").concat(this.name," in tracking plan"),type:"Dropped by plan"})),[2,n];if(n.updateEvent("integrations",(0,e.pi)((0,e.pi)({},n.event.integrations),null==c?void 0:c.integrations)),(null==c?void 0:c.enabled)&&!1===(null==c?void 0:c.integrations[this.name]))return n.cancel(new a.Y({retry:!1,reason:"Event ".concat(u," disabled for integration ").concat(this.name," in tracking plan"),type:"Dropped by plan"})),[2,n]}return[4,(0,p.applyDestinationMiddleware)(this.name,n.event,this.middleware)];case 1:if(null===(d=v.sent()))return[2,n];h=new t(d,{traverse:!this.disableAutoISOConversion}),n.stats.increment("analytics_js.integration.invoke",1,["method:".concat(i),"integration_name:".concat(this.name)]),v.label=2;case 2:return v.trys.push([2,5,,6]),this.integration?[4,this.integration.invoke.call(this.integration,i,h)]:[3,4];case 3:v.sent(),v.label=4;case 4:return[3,6];case 5:throw f=v.sent(),n.stats.increment("analytics_js.integration.invoke.error",1,["method:".concat(i),"integration_name:".concat(this.name)]),f;case 6:return[2,n]}}))}))},n.prototype.track=function(n){return(0,e.mG)(this,void 0,void 0,(function(){return(0,e.Jh)(this,(function(t){return[2,this.send(n,o.Track,"track")]}))}))},n.prototype.page=function(n){var t;return(0,e.mG)(this,void 0,void 0,(function(){var i=this;return(0,e.Jh)(this,(function(e){return(null===(t=this.integration)||void 0===t?void 0:t._assumesPageview)&&!this._initialized&&this.integration.initialize(),[2,this.onInitialize.then((function(){return i.send(n,o.Page,"page")}))]}))}))},n.prototype.identify=function(n){return(0,e.mG)(this,void 0,void 0,(function(){return(0,e.Jh)(this,(function(t){return[2,this.send(n,o.Identify,"identify")]}))}))},n.prototype.alias=function(n){return(0,e.mG)(this,void 0,void 0,(function(){return(0,e.Jh)(this,(function(t){return[2,this.send(n,o.Alias,"alias")]}))}))},n.prototype.group=function(n){return(0,e.mG)(this,void 0,void 0,(function(){return(0,e.Jh)(this,(function(t){return[2,this.send(n,o.Group,"group")]}))}))},n.prototype.scheduleFlush=function(){var n=this;this.flushing||setTimeout((function(){return(0,e.mG)(n,void 0,void 0,(function(){var n;return(0,e.Jh)(this,(function(t){switch(t.label){case 0:return this.flushing=!0,n=this,[4,S(this,this.buffer)];case 1:return n.buffer=t.sent(),this.flushing=!1,this.buffer.todo>0&&this.scheduleFlush(),[2]}}))}))}),5e3*Math.random())},n}();function G(n,t,i,o,r,s){var a,c;if(void 0===i&&(i={}),void 0===o&&(o={}),(0,u.s)())return[];t.plan&&((o=null!=o?o:{}).plan=t.plan);var l=null!==(c=null===(a=t.middlewareSettings)||void 0===a?void 0:a.routingRules)&&void 0!==c?c:[],h=t.integrations,f=o.integrations,v=(0,d.o)(t,null!=o?o:{}),p=null==s?void 0:s.reduce((function(n,t){var i;return(0,e.pi)((0,e.pi)({},n),((i={})[function(n){return("Integration"in n?n.Integration:n).prototype.name}(t)]=t,i))}),{}),g=new Set((0,e.ev)((0,e.ev)([],Object.keys(h).filter((function(n){return k(n,h[n])})),!0),Object.keys(p||{}).filter((function(n){return(0,_.PO)(h[n])||(0,_.PO)(null==f?void 0:f[n])})),!0));return Array.from(g).filter((function(n){return!I(n,i)})).map((function(t){var i=function(n){var t,i,e,o;return null!==(o=null!==(i=null===(t=null==n?void 0:n.versionSettings)||void 0===t?void 0:t.override)&&void 0!==i?i:null===(e=null==n?void 0:n.versionSettings)||void 0===e?void 0:e.version)&&void 0!==o?o:"latest"}(h[t]),e=new z(t,i,n,v[t],o,null==p?void 0:p[t]);return l.filter((function(n){return n.destinationName===t})).length>0&&r&&e.addMiddleware(r),e}))}}}]);
//# sourceMappingURL=ajs-destination.bundle.js.map